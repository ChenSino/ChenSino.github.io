import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";import{o as n,c as s,e}from"./app.47e9fd0f.js";const t={},c=e(`<h2 id="\u95EE\u9898\u63CF\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898\u63CF\u8FF0" aria-hidden="true">#</a> \u95EE\u9898\u63CF\u8FF0</h2><p>\u6709\u4E00\u4E2A\u4E1A\u52A1\u670D\u52A1\uFF0C\u542F\u52A8\u4E86\u4E24\u4E2A\u505A\u6210\u8D1F\u8F7D\u5747\u8861\uFF0C\u5206\u522B\u4E3A10.6.6.11:2221,10.6.6.11:5221,\u4E3A\u4E86\u8C03\u8BD5\uFF0C\u6240\u4EE5\u628Aroute\u4FEE\u6539\u4E3A\u53EA\u8DEF\u7531\u52305221,\u4F46\u662F\u7F51\u5173\u670D\u52A1\u914D\u7F6E\u597Droute\u540E\uFF0C\u53D1\u9001\u8BF7\u6C42\u65E0\u6CD5\u8DEF\u7531\u5230\u6307\u5B9A\u768410.6.6.11:5221\u670D\u52A1\uFF0C\u4E00\u76F4\u8DEF\u7531\u5230\u53E6\u4E00\u4E2A\u670D\u52A110.6.6.11:2221\u4E0A\uFF0C\u5E76\u4E14\u8FDE\u81EA\u5B9A\u4E49\u7684gatewayfilter\u90FD\u5931\u6548\u4E86</p><p>\u8BF7\u6C42\u8DEF\u5F84\u4E3A\uFF1A<code>http://gateway:port/mcs/test</code> \u914D\u7F6E\u5982\u4E0B</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment"># \u8BA9gateway\u53EF\u4EE5\u53D1\u73B0nacos\u4E2D\u7684\u5FAE\u670D\u52A1\uFF0C\u5B9E\u73B0\u52A8\u6001\u8DEF\u7531</span>
        <span class="token key atrule">locator</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">lower-case-service-id</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> StripPrefix=0
      <span class="token comment">#\u8DEF\u7531\u6570\u7EC4[\u8DEF\u7531 \u5C31\u662F\u6307\u5B9A\u5F53\u8BF7\u6C42\u6EE1\u8DB3\u4EC0\u4E48\u6761\u4EF6\u7684\u65F6\u5019\u8F6C\u5230\u54EA\u4E2A\u5FAE\u670D\u52A1]</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> mcs
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//10.10.102.106<span class="token punctuation">:</span><span class="token number">5221</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/mcs/<span class="token important">**</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> StripPrefix=1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u539F\u56E0" tabindex="-1"><a class="header-anchor" href="#\u539F\u56E0" aria-hidden="true">#</a> \u539F\u56E0</h2><p>\u8FD8\u662F\u5BF9gateway\u4E0D\u591F\u719F\u6089\uFF0C\u5176\u5B9E\u662F\u56E0\u4E3A\u914D\u7F6E\u4E86<code>spring.cloud.gateway.locator.enable=true</code>\uFF0C\u8FD9\u4E2A\u914D\u7F6E\u4F1A\u5F00\u542F\u670D\u52A1\u81EA\u52A8\u53D1\u73B0\uFF0C\u4ECE\u800C\u5B9E\u73B0\u52A8\u6001\u8DEF\u7531\u3002\u610F\u601D\u5C31\u662F\u5F53\u4F60\u5F00\u542F\u4E86\u8FD9\u4E2A\u914D\u7F6E\uFF0C\u5C31\u4F1A\u81EA\u52A8\u53BB\u5230\u4F60\u7684\u8BF7\u6C42\u8DEF\u5F84\u53BB\u627E\u670D\u52A1\u540D\uFF0C\u8FD9\u91CC\u6211\u7684\u670D\u52A1\u540D\u5C31\u662Fmcs,\u5F53\u8BF7\u6C42<code>http://gateway:port/mcs/test</code>\uFF0C\u53D1\u73B0\u6709mcs,\u5C31\u4F1A\u81EA\u52A8\u628A\u8FD9\u4E2A\u8BF7\u6C42\u8DEF\u7531\u5230\u670D\u52A1\u540D\u4E3Amcs\u7684\u670D\u52A1\u4E0A\uFF08\u53BB\u6CE8\u518C\u4E2D\u5FC3\u627E\u8FD9\u4E2A\u670D\u52A1\uFF09\uFF0C\u5982\u679C\u627E\u4E0D\u5230\u8FD9\u4E2A\u670D\u52A1\uFF0C\u90A3\u4E48\u5C31\u4F1A\u7EE7\u7EED\u4ECE\u4E0B\u9762\u914D\u7F6E\u7684route\u4E2D\u53BB\u770B\u770B\u6709\u6CA1\u6709\u5339\u914D\u7684\u3002\u6240\u4EE5\u8FD9\u91CC\u53EF\u4EE5\u5728nacos\u624B\u52A8\u628Amsc\u4E0B\u7EBF\uFF0C\u4F60\u5C31\u4F1A\u53D1\u73B0\u4E0B\u9762\u7684route\u751F\u6548\u4E86\uFF0C\u53EF\u4EE5\u8DEF\u7531\u52305221\u4E86\u3002</p><blockquote><p>\u52A8\u6001\u8DEF\u7531\uFF1A<br> \u52A8\u6001\u8DEF\u7531\u8BF4\u767D\u4E86\u5C31\u662F\u6BCF\u65B0\u6CE8\u518C\u4E00\u4E2A\u670D\u52A1\uFF0C\u90FD\u53EF\u4EE5\u901A\u8FC7<code>http://gateway:port/serviceName/xxx</code>\u53BB\u8BBF\u95EE\uFF0C\u800C\u65E0\u9700\u624B\u52A8\u914D\u7F6E\u8DEF\u7531\uFF0C\u8FD9\u79CD\u60C5\u51B5\u5728\u5927\u591A\u6570\u60C5\u51B5\u662F\u5F88\u65B9\u4FBF\uFF0C\u4F46\u662F\u9047\u5230\u9700\u8981\u81EA\u5B9A\u4E49\u8DEF\u7531\u5C31\u975E\u5E38\u4E0D\u597D\uFF0C\u6BD4\u5982\u6211\u4EEC\u4E0A\u9762\u9700\u8981\u628A\u6240\u6709\u8BF7\u6C42\u90FD\u8DEF\u7531\u52305221.\u3002</p></blockquote><h2 id="\u9488\u5BF9\u672C\u6B21\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u9488\u5BF9\u672C\u6B21\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6CD5" aria-hidden="true">#</a> \u9488\u5BF9\u672C\u6B21\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6CD5</h2><h3 id="\u65B9\u6CD51" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD51" aria-hidden="true">#</a> \u65B9\u6CD51</h3><p>\u628A\u52A8\u6001\u8DEF\u7531\u914D\u7F6E\u5173\u95ED\uFF08\u9ED8\u8BA4\u5C31\u662F\u5173\u95ED\uFF09</p><h3 id="\u65B9\u6CD52" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD52" aria-hidden="true">#</a> \u65B9\u6CD52</h3><p>\u5230nacos\u628A\u670D\u52A1\u4E0B\u7EBF\uFF0Croute\u4E2D\u7684\u8DEF\u7531\u5C31\u4F1A\u751F\u6548\uFF0C\u5F53\u7136uri\u53EA\u80FD\u7528\u5177\u4F53ip\u7684\u5F62\u5F0F\u4E86\uFF0C\u4E0D\u80FD\u4F7F\u7528lb://servicename\u8FD9\u79CD\u8D1F\u8F7D\u5747\u8861\u5199\u6CD5\u4E86</p>`,12),i=[c];function p(l,o){return n(),s("div",null,i)}var d=a(t,[["render",p],["__file","SpringCloudGateway.html.vue"]]);export{d as default};
