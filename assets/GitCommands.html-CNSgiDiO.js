import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,e}from"./app-Cs38sdJl.js";const t={},i=e(`<h2 id="一、善用手册" tabindex="-1"><a class="header-anchor" href="#一、善用手册"><span>一、善用手册</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> <span class="token parameter variable">--help</span>
用法：git <span class="token punctuation">[</span>--version<span class="token punctuation">]</span> <span class="token punctuation">[</span>--help<span class="token punctuation">]</span> <span class="token punctuation">[</span>-C <span class="token operator">&lt;</span>路径<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-c <span class="token operator">&lt;</span>名称<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>取值<span class="token operator">&gt;</span><span class="token punctuation">]</span>
           <span class="token punctuation">[</span>--exec-path<span class="token punctuation">[</span><span class="token operator">=</span><span class="token operator">&lt;</span>路径<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>--html-path<span class="token punctuation">]</span> <span class="token punctuation">[</span>--man-path<span class="token punctuation">]</span> <span class="token punctuation">[</span>--info-path<span class="token punctuation">]</span>
           <span class="token punctuation">[</span>-p <span class="token operator">|</span> <span class="token parameter variable">--paginate</span> <span class="token operator">|</span> <span class="token parameter variable">-P</span> <span class="token operator">|</span> --no-pager<span class="token punctuation">]</span> <span class="token punctuation">[</span>--no-replace-objects<span class="token punctuation">]</span> <span class="token punctuation">[</span>--bare<span class="token punctuation">]</span>
           <span class="token punctuation">[</span>--git-dir<span class="token operator">=</span><span class="token operator">&lt;</span>路径<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>--work-tree<span class="token operator">=</span><span class="token operator">&lt;</span>路径<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>--namespace<span class="token operator">=</span><span class="token operator">&lt;</span>名称<span class="token operator">&gt;</span><span class="token punctuation">]</span>
           <span class="token punctuation">[</span>--super-prefix<span class="token operator">=</span><span class="token operator">&lt;</span>路径<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>--config-env<span class="token operator">=</span><span class="token operator">&lt;</span>名称<span class="token operator">&gt;=</span><span class="token operator">&lt;</span>环境变量<span class="token operator">&gt;</span><span class="token punctuation">]</span>
           <span class="token operator">&lt;</span>命令<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>参数<span class="token operator">&gt;</span><span class="token punctuation">]</span>

这些是各种场合常见的 Git 命令：

开始一个工作区（参见：git <span class="token builtin class-name">help</span> tutorial）
   clone     克隆仓库到一个新目录
   init      创建一个空的 Git 仓库或重新初始化一个已存在的仓库

在当前变更上工作（参见：git <span class="token builtin class-name">help</span> everyday）
   <span class="token function">add</span>       添加文件内容至索引
   <span class="token function">mv</span>        移动或重命名一个文件、目录或符号链接
   restore   恢复工作区文件
   <span class="token function">rm</span>        从工作区和索引中删除文件

检查历史和状态（参见：git <span class="token builtin class-name">help</span> revisions）
   bisect    通过二分查找定位引入 bug 的提交
   <span class="token function">diff</span>      显示提交之间、提交和工作区之间等的差异
   <span class="token function">grep</span>      输出和模式匹配的行
   log       显示提交日志
   show      显示各种类型的对象
   status    显示工作区状态

扩展、标记和调校您的历史记录
   branch    列出、创建或删除分支
   commit    记录变更到仓库
   merge     合并两个或更多开发历史
   rebase    在另一个分支上重新应用提交
   reset     重置当前 HEAD 到指定状态
   switch    切换分支
   tag       创建、列出、删除或校验一个 GPG 签名的标签对象

协同（参见：git <span class="token builtin class-name">help</span> workflows）
   fetch     从另外一个仓库下载对象和引用
   pull      获取并整合另外的仓库或一个本地分支
   push      更新远程引用和相关的对象

命令 <span class="token string">&#39;git help -a&#39;</span> 和 <span class="token string">&#39;git help -g&#39;</span> 显示可用的子命令和一些概念帮助。
查看 <span class="token string">&#39;git help &lt;命令&gt;&#39;</span> 或 <span class="token string">&#39;git help &lt;概念&gt;&#39;</span> 以获取给定子命令或概念的
帮助。
有关系统的概述，查看 <span class="token string">&#39;git help git&#39;</span>。

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一般情况在每个子命令下使用--help能查看更详细的文档，例如<code>git pull --help</code>，或者在linux环境使用<code>man git pull</code>，其他命令使用一样方式查看</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707154502.png" alt="git pull --help"></p><hr><h2 id="二、-本地基本命令使用" tabindex="-1"><a class="header-anchor" href="#二、-本地基本命令使用"><span>二、 本地基本命令使用</span></a></h2><h3 id="_2-1-分支操作" tabindex="-1"><a class="header-anchor" href="#_2-1-分支操作"><span>2.1 分支操作</span></a></h3><h4 id="_2-1-1使用git-branch-a可以查看到本地分支和远程分支-以本项目为例结果如下" tabindex="-1"><a class="header-anchor" href="#_2-1-1使用git-branch-a可以查看到本地分支和远程分支-以本项目为例结果如下"><span>2.1.1使用<code>git branch -a</code>可以查看到本地分支和远程分支，以本项目为例结果如下</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>* main
  remotes/origin/HEAD -<span class="token operator">&gt;</span> origin/main
  remotes/origin/gh-pages
  remotes/origin/main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中分支remotes/origin/HEAD最让人奇怪，可以看到它有个HEAD，代表此分支是代表远程服务器上的默认操作分支，类似我们在本地操作某分支时，HEAD总是指向当前正在操作的分支，远程默认分支一般是master（或者main），如果把远程服务器上的默认分支改为dev，则看到的就是 <code>remotes/origin/HEAD -&gt; origin/dev</code>，并且无论你在本地怎么样操作，它都不会发生变化。远程一定要有个默认分支，当使用git clone xx命令时，实际上就clone的默认分支。</p><h4 id="_2-1-2-git-branch-vv" tabindex="-1"><a class="header-anchor" href="#_2-1-2-git-branch-vv"><span>2.1.2 <code>git branch -vv</code></span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>main 8805a71a <span class="token punctuation">[</span>origin/main: behind <span class="token number">3</span><span class="token punctuation">]</span> 提交git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>以上结果比代表本地的main分支，对应origin/main，至于origin/main是什么意思，它实际上是代表远程分支在本地的的一个映射。这个分支是不可操作的，只能通过诸如fetch、pull、push等命令与远端进行交互，从而来改变此分支的HEAD指向。当我们操作main分支后，commit后实际上是把内容提交到了本地main分支，当执行push后，远端和origin/main的HEAD才会发生变化</p><hr><h3 id="_2-2、撤销修改" tabindex="-1"><a class="header-anchor" href="#_2-2、撤销修改"><span>2.2、撤销修改</span></a></h3><blockquote><p><strong>使用场景：</strong></p><p>适用于修改了一个版本库中的文件，想还原</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#在老版本git是git checkout -- &lt;file&gt;...</span>
<span class="token function">git</span> restore <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用git status会有提示</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># root @ localhost in /home/chenkun/ChenSino.github.io on git:main x [10:45:12] </span>
$ <span class="token function">git</span> status
位于分支 main
您的分支与上游分支 <span class="token string">&#39;origin/main&#39;</span> 一致。

尚未暂存以备提交的变更：
  （使用 <span class="token string">&quot;git add &lt;文件&gt;...&quot;</span> 更新要提交的内容）
  （使用 <span class="token string">&quot;git restore &lt;文件&gt;...&quot;</span> 丢弃工作区的改动）
        修改：     package-lock.json

未跟踪的文件:
  （使用 <span class="token string">&quot;git add &lt;文件&gt;...&quot;</span> 以包含要提交的内容）
        docs/git/GitCommands.md

修改尚未加入提交（使用 <span class="token string">&quot;git add&quot;</span> 和/或 <span class="token string">&quot;git commit -a&quot;</span>）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-3、使用git-reflog在各个commit中穿梭" tabindex="-1"><a class="header-anchor" href="#_2-3、使用git-reflog在各个commit中穿梭"><span>2.3、使用<code>git reflog</code>在各个commit中穿梭</span></a></h3><blockquote><p><strong>使用场景：</strong><br> 使用了<code>git reset</code>命令重置了git指针，比如使用<code>git reset --hard HEAD^</code>还原到上一个版本后，想再还原到最新的一次提交，再使用<code>git log</code>是看不到最新的commit log的，但使用<code>git reflog</code>可以看到所有log</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> reflog <span class="token operator">&lt;</span>commitid<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h3 id="_2-4、git-rm" tabindex="-1"><a class="header-anchor" href="#_2-4、git-rm"><span>2.4、<code>git rm</code></span></a></h3><blockquote><p><code>git rm file</code>和直接删除文件的区别？<br><code>git rm &lt;file&gt;</code> 相当于是操作版本库中的文件，删除后直接commit就可以提交，无需执行<code>git add &lt;file&gt;</code>，而直接删除文件相当于操作工作目录中的文件，删除 后需要执行<code>git add &lt;file&gt; </code>才能commit</p></blockquote><p>图一图片使用git rm 把文件移除版本库后，使用git status查看是绿色的，代表该文件已经在暂存空间</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707135422.png" alt="图一"></p><p>图二手动直接删除文件后，git status看到的文件是红色的，代表没有在暂存空间，所以需要使用git add才能提交</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707135355.png" alt="图二"></p><h2 id="三、-远程命令使用" tabindex="-1"><a class="header-anchor" href="#三、-远程命令使用"><span>三、 远程命令使用</span></a></h2><p><em>第一章节介绍的是本地版本库操作，没有关联远程仓库，本章节将介绍远程操作，对接gitlab或者github</em></p><h3 id="_1、把一个本地仓库关联到远程" tabindex="-1"><a class="header-anchor" href="#_1、把一个本地仓库关联到远程"><span>1、把一个本地仓库关联到远程</span></a></h3><p>步骤：</p><ol><li>本地有一个仓库，并且已经纳入git版本库管理</li><li>在远程仓库已经建好一个库</li><li>把本地的库和远程建立连接</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 把本地仓库和远程仓库进行关联，origin可以随便取，代表给远程仓库起了一个名字，因为一个仓库可能关联多个远程仓库，比如你的项目想同时发布到github和gitee以及gitlab，那么就需要给远程仓库起个别名，push的时候加上别名，推送到指定的远程仓库</span>
<span class="token function">git</span> remote <span class="token function">add</span> gitlab <span class="token operator">&lt;</span>remote-url<span class="token operator">&gt;</span>
<span class="token comment">#把&lt;当前&gt;分支的内容推送到别名为gitlab的远程master分支，并且进行关联</span>
<span class="token function">git</span> push <span class="token parameter variable">-u</span> gitlab master
<span class="token comment">#把&lt;当前&gt;分支的内容推送到别名为gitlab的远程dev分支，并且进行关联</span>
<span class="token function">git</span> push <span class="token parameter variable">-u</span> gitlab dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>温馨提示：</strong><br> 为了免密码操作，设置远程url时需要使用ssh地址，比如<code>ssh://git@gitlab.sonoscape.com:1122/chenxk/gitstudyproject.git</code>这种。然后把自己的公钥复制到对应的远程仓库秘钥管理，即可进行免密码操作。</p></blockquote><hr><h3 id="_2、查看本地和远程分支关联关系" tabindex="-1"><a class="header-anchor" href="#_2、查看本地和远程分支关联关系"><span>2、查看本地和远程分支关联关系</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> branch <span class="token parameter variable">-vv</span>

* dev    21a759b <span class="token punctuation">[</span>gitlab/dev<span class="token punctuation">]</span> 更新Git1.md
  master 21a759b <span class="token punctuation">[</span>github/master: 领先 <span class="token number">3</span><span class="token punctuation">]</span> 更新Git1.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3、解除和远程仓库关联" tabindex="-1"><a class="header-anchor" href="#_3、解除和远程仓库关联"><span>3、解除和远程仓库关联</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#1.查看关联的远程仓库</span>
$ <span class="token function">git</span> remote <span class="token parameter variable">-v</span>
origin  https://github.com/ChenSino/gitstudyproject.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin  https://github.com/ChenSino/gitstudyproject.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
sonoscape       ssh://git@gitlab.sonoscape.com:1122/chenxk/gitstudyproject.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
sonoscape       ssh://git@gitlab.sonoscape.com:1122/chenxk/gitstudyproject.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>


<span class="token comment">#2. 解除关联</span>
<span class="token function">git</span> remote <span class="token function">rm</span> origin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、git-pull" tabindex="-1"><a class="header-anchor" href="#_4、git-pull"><span>4、git pull</span></a></h3><p><strong>冲突</strong><br> 在实际开发中，冲突发生最多的地方就是多个协同人员往同一个远程分支push代码，这种场景在pull、push非常容易发生冲突，那什么是冲突？</p><ul><li>多个分支代码合并到一个分支时</li><li>多个分支向同一个远端分支推送 具体情况就是，多个分支修改了同一个文件(任何地方)或者多个分支修改了同一个文件的名称</li></ul><p>如果两个分支中分别修改了不同文件中的部分，是不会产生冲突，直接合并即可</p><p>应用在命令中，就是push、pull、stash、rebase等命令下都有可能产生冲突情况，从本质上来讲，都是merge和patch(应用补丁)时产生冲突</p><blockquote><p>git pull 相当于git fetch + git merge</p></blockquote><p>当执行<code>git pull</code>本地和远程有冲突时会有以下提示，一下提示你指定git pull的默认行为，也可以直接git pull后加--rebase、--no-rebase、--ff-only取代默认行为，后续场景测试都是用的默认<code>git config pull.rebase false</code></p><div class="language-$ line-numbers-mode" data-ext="$" data-title="$"><pre class="language-$"><code>提示：您有偏离的分支，需要指定如何调和它们。您可以在执行下一次
提示：pull 操作之前执行下面一条命令来抑制本消息：
提示：
提示：  git config pull.rebase false  # 合并
提示：  git config pull.rebase true   # 变基
提示：  git config pull.ff only       # 仅快进(ff=fast forward)
提示：
提示：您可以将 &quot;git config&quot; 替换为 &quot;git config --global&quot; 以便为所有仓库设置
提示：缺省的配置项。您也可以在每次执行 pull 命令时添加 --rebase、--no-rebase，
提示：或者 --ff-only 参数覆盖缺省设置。
fatal: 需要指定如何调和偏离的分支。

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看当前git默认行为可以用<code>git config -l</code>结果如下</p><div class="language-conf line-numbers-mode" data-ext="conf" data-title="conf"><pre class="language-conf"><code>user.name=chenkun
user.email=chenkun@xxx.net
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
remote.gitlab.url=ssh://git@gitlab.xx.com:1122/chenkun/gitstudyproject.git
remote.gitlab.fetch=+refs/heads/*:refs/remotes/gitlab/*
branch.dev.remote=gitlab
branch.dev.merge=refs/heads/dev
pull.rebase=false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>场景1</strong><br> 本地修改了一个文件A，远程修改了文件B，此时pull是可以成功的</p></blockquote><blockquote><p><strong>场景2</strong><br> 本地修改了文件A，远程也修改了文件A ，并且本地修改A后还没有commit，会提示要么stash修改的文件，要么commit。<br> 执行两次git pull结果如下，第一次有一串remote日志代表从远程拉取，第二次则没有拉取了，因为第一次已经把最新的代码拉到暂存区了，侧面印证了git pull包含了git fetch</p></blockquote><div class="language-shell$ line-numbers-mode" data-ext="shell$" data-title="shell$"><pre class="language-shell$"><code>remote: Enumerating objects: 5, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 1), reused 0 (delta 0), pack-reused 0
展开对象中: 100% (3/3), 254 字节 | 254.00 KiB/s, 完成.
来自 ssh://gitlab.sonoscape.com:1122/chenxk/gitstudyproject
   266c301..fbc7d85  dev        -&gt; gitlab/dev
更新 266c301..fbc7d85
error: 您对下列文件的本地修改将被合并操作覆盖：
        test.add
请在合并前提交或贮藏您的修改。
正在终止

$ git pull
更新 266c301..fbc7d85
error: 您对下列文件的本地修改将被合并操作覆盖：
        test.add
请在合并前提交或贮藏您的修改。
正在终止

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>场景3</strong><br> 本地修改了文件A，远程也修改了文件A并且本地和远程修改的不是同一行代码 ，并且本地修改A后已经commit，执行git pull是可以直接成功的，pull的时候会自动快速合并，即fast forword模式可以自动判断是否冲突，并且会自动产生一个提交记录，提示类似如下日志</p></blockquote><p><code>Merge branch &#39;main&#39; of github.com:ChenSino/ChenSino.github.io into main</code></p><blockquote><p><strong>场景4</strong><br> 本地修改了文件A，远程也修改了文件A，远程如果有删除行、新增行、或远程和本地都修改了同一行，则fast forword模式就没那么智能了，需要人工判断解决冲突，从日志看test.add文件冲突了</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> pull
remote: Enumerating objects: <span class="token number">5</span>, done.
remote: Counting objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">5</span>/5<span class="token punctuation">)</span>, done.
remote: Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">3</span>/3<span class="token punctuation">)</span>, done.
remote: Total <span class="token number">3</span> <span class="token punctuation">(</span>delta <span class="token number">2</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, pack-reused <span class="token number">0</span>
展开对象中: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">3</span>/3<span class="token punctuation">)</span>, <span class="token number">276</span> 字节 <span class="token operator">|</span> <span class="token number">276.00</span> KiB/s, 完成.
来自 ssh://gitlab.sonoscape.com:1122/chenxk/gitstudyproject
   7a62b52<span class="token punctuation">..</span>be452dc  dev        -<span class="token operator">&gt;</span> gitlab/dev
自动合并 test.add
冲突（内容）：合并冲突于 test.add
自动合并失败，修正冲突然后提交修正的结果。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>打开冲突文件如下，此时需要手动编辑后再add、commit、push即可</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>gaaaaaaaaagaa edit first lineaaaaaaaaaaaaaaa
gaaaaaaagaa edit first lineaaaaaaaaaaaaaaaaa
asgdsg
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> HEAD
aaaaasgedit last lineaaaaaaaaaaaaaaaaa
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
asgedit last lineaaaaaaaaaaaaaaaaaaaa
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> be452dc49163e6f8e950d8cd43ad2d79c491be3b

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>总结</strong></p><blockquote><p>本地和远程未修改同一个文件，则本地无需提交即可pull成功，若本地和远程都修改了某个文件，则需要先把本地修改commit或者stash，然后再pull，若是刚好本地和远程修改了同一行，则pull后需要去手动解决冲突，若是没有修改同一行则无需解决冲突。</p></blockquote><h3 id="_5、git-rebase" tabindex="-1"><a class="header-anchor" href="#_5、git-rebase"><span>5、git rebase</span></a></h3><h4 id="_5-1-合并多次commit" tabindex="-1"><a class="header-anchor" href="#_5-1-合并多次commit"><span>5.1 合并多次commit</span></a></h4><blockquote><p>本地有多次commit还没push，此时可以把多次commit记录改成一次，-i 指的是交互式进行(interactive)</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#一下命令可以对当前分支的前n个commit进行进一步处理，</span>
<span class="token function">git</span> rebase <span class="token parameter variable">-i</span> HEAD~n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-合并分支" tabindex="-1"><a class="header-anchor" href="#_5-2-合并分支"><span>5.2 合并分支</span></a></h4><blockquote><p>合并两个分支，让commit历史保持一条直线，看起来更间接。</p><p>场景：现有两个分支master、dev，dev由master检出，检出后dev和master都分别有commit，现在想合并dev到master，同时要保持分支图谱是一条直线。</p></blockquote><p>下图可看到，dev来自于master，并且之后dev和master都有一次commit</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/202207141557178.png" alt=""></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">#完成操作流程如下</span>
<span class="token comment">#1. 切换到dev分支</span>
<span class="token function">git</span> switch dev


<span class="token comment">#2. 在dev上rebase</span>
<span class="token function">git</span> rebase master


<span class="token comment">#3. 若出现冲突，则提示如下</span>
$ <span class="token function">git</span> rebase master
Auto-merging READM.md
CONFLICT <span class="token punctuation">(</span>content<span class="token punctuation">)</span>: Merge conflict <span class="token keyword">in</span> READM.md
error: could not apply 6c064e6<span class="token punctuation">..</span>. Commit by branch dev
hint: Resolve all conflicts manually, mark them as resolved with
hint: <span class="token string">&quot;git add/rm &lt;conflicted_files&gt;&quot;</span>, <span class="token keyword">then</span> run <span class="token string">&quot;git rebase --continue&quot;</span><span class="token builtin class-name">.</span>
hint: You can instead skip this commit: run <span class="token string">&quot;git rebase --skip&quot;</span><span class="token builtin class-name">.</span>
hint: To abort and get back to the state before <span class="token string">&quot;git rebase&quot;</span>, run <span class="token string">&quot;git rebase --abort&quot;</span><span class="token builtin class-name">.</span>
Could not apply 6c064e6<span class="token punctuation">..</span>. Commit by branch dev


<span class="token comment"># 4. 当出现冲突时，在bash命令行分支会显示如下，在dev后面有个REBASE字样，还有1/1代表有一个冲突</span>
<span class="token number">204506</span>@204506A MINGW64 /f/GitRepo/gitstudyproject <span class="token punctuation">(</span>dev<span class="token operator">|</span>REBASE <span class="token number">1</span>/1<span class="token punctuation">)</span>


<span class="token comment">#5. 按照提示进入文件解决冲突文件</span>
解决前：
<span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD
<span class="token comment">## git命令测试</span>
   - 测试命令
   - 测试命令
   modify by master
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

modify by dev
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> 6c064e6 <span class="token punctuation">(</span>Commit by branch dev<span class="token punctuation">)</span>

解决后：
<span class="token comment">## git命令测试</span>
   - 测试命令
   - 测试命令
   modify by master
modify by dev


<span class="token comment"># 6. 修改冲突后要git add</span>
<span class="token function">git</span> <span class="token function">add</span> -A<span class="token punctuation">;</span>

<span class="token comment"># 7. 继续rebase，此时会进入交互式命令行，让输入commit信息，因上一次add后还没commit，所以这一步要输入。</span>
<span class="token comment">#第6步add后，还可以直接commit，那么这一步就不会进入交互式命令行让你输入c</span>
<span class="token function">git</span> rebase <span class="token parameter variable">--continue</span>

<span class="token comment">#8. 这是dev就变成基于master的一条直线了，所以切换到master就可以直接快进合入</span>
<span class="token function">git</span> switch master  
<span class="token comment">#这一步因为dev已经基于master了，所以肯定能快进合入</span>
<span class="token function">git</span> merge dev  



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,73),l=[i];function o(p,c){return s(),a("div",null,l)}const u=n(t,[["render",o],["__file","GitCommands.html.vue"]]),m=JSON.parse(`{"path":"/other/git/GitCommands.html","title":"git命令","lang":"zh-CN","frontmatter":{"title":"git命令","date":"2022-03-09T16:57:01.000Z","author":"ChenSino","category":["git 操作"],"tag":["必会"],"description":"一、善用手册 一般情况在每个子命令下使用--help能查看更详细的文档，例如git pull --help，或者在linux环境使用man git pull，其他命令使用一样方式查看 git pull --help 二、 本地基本命令使用 2.1 分支操作 2.1.1使用git branch -a可以查看到本地分支和远程分支，以本项目为例结果如下 其中...","head":[["meta",{"property":"og:url","content":"https://ChenSino.github.io/other/git/GitCommands.html"}],["meta",{"property":"og:site_name","content":"ChenSino"}],["meta",{"property":"og:title","content":"git命令"}],["meta",{"property":"og:description","content":"一、善用手册 一般情况在每个子命令下使用--help能查看更详细的文档，例如git pull --help，或者在linux环境使用man git pull，其他命令使用一样方式查看 git pull --help 二、 本地基本命令使用 2.1 分支操作 2.1.1使用git branch -a可以查看到本地分支和远程分支，以本项目为例结果如下 其中..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707154502.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-08-01T13:56:59.000Z"}],["meta",{"property":"article:author","content":"ChenSino"}],["meta",{"property":"article:tag","content":"必会"}],["meta",{"property":"article:published_time","content":"2022-03-09T16:57:01.000Z"}],["meta",{"property":"article:modified_time","content":"2022-08-01T13:56:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"git命令\\",\\"image\\":[\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707154502.png\\",\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707135422.png\\",\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20220707135355.png\\",\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/202207141557178.png\\"],\\"datePublished\\":\\"2022-03-09T16:57:01.000Z\\",\\"dateModified\\":\\"2022-08-01T13:56:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ChenSino\\"}]}"]]},"headers":[{"level":2,"title":"一、善用手册","slug":"一、善用手册","link":"#一、善用手册","children":[]},{"level":2,"title":"二、 本地基本命令使用","slug":"二、-本地基本命令使用","link":"#二、-本地基本命令使用","children":[{"level":3,"title":"2.1 分支操作","slug":"_2-1-分支操作","link":"#_2-1-分支操作","children":[]},{"level":3,"title":"2.2、撤销修改","slug":"_2-2、撤销修改","link":"#_2-2、撤销修改","children":[]},{"level":3,"title":"2.3、使用git reflog在各个commit中穿梭","slug":"_2-3、使用git-reflog在各个commit中穿梭","link":"#_2-3、使用git-reflog在各个commit中穿梭","children":[]},{"level":3,"title":"2.4、git rm","slug":"_2-4、git-rm","link":"#_2-4、git-rm","children":[]}]},{"level":2,"title":"三、 远程命令使用","slug":"三、-远程命令使用","link":"#三、-远程命令使用","children":[{"level":3,"title":"1、把一个本地仓库关联到远程","slug":"_1、把一个本地仓库关联到远程","link":"#_1、把一个本地仓库关联到远程","children":[]},{"level":3,"title":"2、查看本地和远程分支关联关系","slug":"_2、查看本地和远程分支关联关系","link":"#_2、查看本地和远程分支关联关系","children":[]},{"level":3,"title":"3、解除和远程仓库关联","slug":"_3、解除和远程仓库关联","link":"#_3、解除和远程仓库关联","children":[]},{"level":3,"title":"4、git pull","slug":"_4、git-pull","link":"#_4、git-pull","children":[]},{"level":3,"title":"5、git rebase","slug":"_5、git-rebase","link":"#_5、git-rebase","children":[]}]}],"git":{"createdTime":1659362219000,"updatedTime":1659362219000,"contributors":[{"name":"chenkun","email":"462488588@qq.com","commits":1}]},"readingTime":{"minutes":11.65,"words":3495},"filePathRelative":"other/git/GitCommands.md","localizedDate":"2022年3月9日","excerpt":"<h2>一、善用手册</h2>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>$ <span class=\\"token function\\">git</span> <span class=\\"token parameter variable\\">--help</span>\\n用法：git <span class=\\"token punctuation\\">[</span>--version<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--help<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>-C <span class=\\"token operator\\">&lt;</span>路径<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>-c <span class=\\"token operator\\">&lt;</span>名称<span class=\\"token operator\\">&gt;=</span><span class=\\"token operator\\">&lt;</span>取值<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span>\\n           <span class=\\"token punctuation\\">[</span>--exec-path<span class=\\"token punctuation\\">[</span><span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>路径<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--html-path<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--man-path<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--info-path<span class=\\"token punctuation\\">]</span>\\n           <span class=\\"token punctuation\\">[</span>-p <span class=\\"token operator\\">|</span> <span class=\\"token parameter variable\\">--paginate</span> <span class=\\"token operator\\">|</span> <span class=\\"token parameter variable\\">-P</span> <span class=\\"token operator\\">|</span> --no-pager<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--no-replace-objects<span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--bare<span class=\\"token punctuation\\">]</span>\\n           <span class=\\"token punctuation\\">[</span>--git-dir<span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>路径<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--work-tree<span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>路径<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--namespace<span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>名称<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span>\\n           <span class=\\"token punctuation\\">[</span>--super-prefix<span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>路径<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span> <span class=\\"token punctuation\\">[</span>--config-env<span class=\\"token operator\\">=</span><span class=\\"token operator\\">&lt;</span>名称<span class=\\"token operator\\">&gt;=</span><span class=\\"token operator\\">&lt;</span>环境变量<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span>\\n           <span class=\\"token operator\\">&lt;</span>命令<span class=\\"token operator\\">&gt;</span> <span class=\\"token punctuation\\">[</span><span class=\\"token operator\\">&lt;</span>参数<span class=\\"token operator\\">&gt;</span><span class=\\"token punctuation\\">]</span>\\n\\n这些是各种场合常见的 Git 命令：\\n\\n开始一个工作区（参见：git <span class=\\"token builtin class-name\\">help</span> tutorial）\\n   clone     克隆仓库到一个新目录\\n   init      创建一个空的 Git 仓库或重新初始化一个已存在的仓库\\n\\n在当前变更上工作（参见：git <span class=\\"token builtin class-name\\">help</span> everyday）\\n   <span class=\\"token function\\">add</span>       添加文件内容至索引\\n   <span class=\\"token function\\">mv</span>        移动或重命名一个文件、目录或符号链接\\n   restore   恢复工作区文件\\n   <span class=\\"token function\\">rm</span>        从工作区和索引中删除文件\\n\\n检查历史和状态（参见：git <span class=\\"token builtin class-name\\">help</span> revisions）\\n   bisect    通过二分查找定位引入 bug 的提交\\n   <span class=\\"token function\\">diff</span>      显示提交之间、提交和工作区之间等的差异\\n   <span class=\\"token function\\">grep</span>      输出和模式匹配的行\\n   log       显示提交日志\\n   show      显示各种类型的对象\\n   status    显示工作区状态\\n\\n扩展、标记和调校您的历史记录\\n   branch    列出、创建或删除分支\\n   commit    记录变更到仓库\\n   merge     合并两个或更多开发历史\\n   rebase    在另一个分支上重新应用提交\\n   reset     重置当前 HEAD 到指定状态\\n   switch    切换分支\\n   tag       创建、列出、删除或校验一个 GPG 签名的标签对象\\n\\n协同（参见：git <span class=\\"token builtin class-name\\">help</span> workflows）\\n   fetch     从另外一个仓库下载对象和引用\\n   pull      获取并整合另外的仓库或一个本地分支\\n   push      更新远程引用和相关的对象\\n\\n命令 <span class=\\"token string\\">'git help -a'</span> 和 <span class=\\"token string\\">'git help -g'</span> 显示可用的子命令和一些概念帮助。\\n查看 <span class=\\"token string\\">'git help &lt;命令&gt;'</span> 或 <span class=\\"token string\\">'git help &lt;概念&gt;'</span> 以获取给定子命令或概念的\\n帮助。\\n有关系统的概述，查看 <span class=\\"token string\\">'git help git'</span>。\\n\\n</code></pre></div>","autoDesc":true}`);export{u as comp,m as data};
