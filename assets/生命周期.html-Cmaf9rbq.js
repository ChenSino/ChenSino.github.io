import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as o,a as n,b as a,d as t,e as p}from"./app-xHrnIhLr.js";const i={},u=n("h2",{id:"maven的生命周期",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#maven的生命周期"},[n("span",null,"Maven的生命周期")])],-1),g=n("p",null,"There are three built-in build lifecycles: default, clean and site. The default lifecycle handles your project deployment, the clean lifecycle handles project cleaning, while the site lifecycle handles the creation of your project's web site.",-1),k=n("h2",{id:"各个生命周期包含的phase",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#各个生命周期包含的phase"},[n("span",null,"各个生命周期包含的phase")])],-1),d={href:"https://maven.apache.org/ref/3.9.2/maven-core/lifecycles.html",target:"_blank",rel:"noopener noreferrer"},r=p(`<h3 id="default-lifecycle包含的phase" tabindex="-1"><a class="header-anchor" href="#default-lifecycle包含的phase"><span>default lifecycle包含的phase</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>validate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>initialize<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-test-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-test-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test-compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>prepare-package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>post-integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>verify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>install<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>deploy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clean-lifecycle生命周期所包含的phase" tabindex="-1"><a class="header-anchor" href="#clean-lifecycle生命周期所包含的phase"><span>clean lifecycle生命周期所包含的phase</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>post-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>default-phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>clean</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>clean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>default-phases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="site-lificycle生命周期包含的phase" tabindex="-1"><a class="header-anchor" href="#site-lificycle生命周期包含的phase"><span>site lificycle生命周期包含的phase</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>post-site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>site-deploy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>default-phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>site</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-site-plugin:3.12.1:site
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>site</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>site-deploy</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-site-plugin:3.12.1:deploy
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>site-deploy</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>default-phases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="关于默认绑定的插件" tabindex="-1"><a class="header-anchor" href="#关于默认绑定的插件"><span>关于默认绑定的插件</span></a></h2><p>以前一直好奇，为啥随便搞一个maven项目都有自带的插件，并且有时候插件还不一样，今天终于搞懂了，其实默认的插件和packaging的类型有关，另外clean和site插件是任何项目都默认就有的。</p><p>比如下图有两个maven项目，插件不一样，并且我在pom中没有配置任何maven插件</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230607163732.png" alt="20230607163732"></p>`,10),v={href:"https://maven.apache.org/ref/3.9.2/maven-core/default-bindings.html",target:"_blank",rel:"noopener noreferrer"},m=p(`<p>packaging类型以后pom,jar,war,ejb,maven-plugin,rar,ear等等，这里只列出最常用的pom和jar，完整版请看官网文档</p><h3 id="packaging类型pom-类型默认绑定插件" tabindex="-1"><a class="header-anchor" href="#packaging类型pom-类型默认绑定插件"><span>packaging类型pom 类型默认绑定插件</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>install</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-install-plugin:3.1.0:install
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>install</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>deploy</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-deploy-plugin:3.1.0:deploy
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>deploy</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="packaging类型为jar-绑定的插件" tabindex="-1"><a class="header-anchor" href="#packaging类型为jar-绑定的插件"><span>packaging类型为jar，绑定的插件</span></a></h3><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-resources</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-resources</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compile</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compile</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-resources-plugin:3.3.0:testResources
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-compile</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-compile</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-surefire-plugin:3.0.0:test
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-jar-plugin:3.3.0:jar
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>install</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-install-plugin:3.1.0:install
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>install</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>deploy</span><span class="token punctuation">&gt;</span></span>
    org.apache.maven.plugins:maven-deploy-plugin:3.1.0:deploy
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>deploy</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="我对maven生命周期的理解" tabindex="-1"><a class="header-anchor" href="#我对maven生命周期的理解"><span>我对maven生命周期的理解</span></a></h2><p>maven有三条生命周期线，clean/build/site，每次执行命令只会执行一条生命线，比如执行<code>mvn clean</code>，就只会执行clean生命周期线上绑定的 一些插件（具体来说是插件上的goal），并不会执行到build和site生命周期（<code>mvn clean install</code>这种写法暂且不考虑）。</p><p>就以<code>mvn clean</code>为例来讲解maven执行的原理。此命令执行，会自动识别为clean那条生命周期的clean阶段（phase），然后我们知道clean生命周期实际上包含三个phase,分别为pre-clean,clean,post-clean,然后程序会按照这个顺序依次去扫描每个phase绑定的插件然后 再去执行设定好的goal。第一步运行到pre-clean阶段，会去pom.xml扫描有没有插件绑定到此phase,如果有则执行其设置好的goal，比如有如下配置(插件是我瞎配置的，肯定有问题，此处就仅仅举例说明maven执行流程),当执行到pre-clean的阶段，发现有一个插件echo-plugin绑定在这个phase,就会执行这个插件对应的goal,就是那个echo,然后继续clean的第二个阶段发现绑定的有个log-plugin插件，然后就会执行绑定的goal就是那个log，然后继续执行到第三个阶段post-clean发现没有插件绑定，就啥都不做，程序结束了。</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.chensino<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>echo-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>x.x.x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>echo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>


             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.chensino<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>x.x.x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>clean<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面虽然是用clean生命周期进行举例，但是最重要的是build生命周期，原理都一样，无非build周期的phase多了一些而已。</p><h2 id="写在最后" tabindex="-1"><a class="header-anchor" href="#写在最后"><span>写在最后</span></a></h2><p>以前一直对maven的生命周期理解的很模糊，对clean/build/site三条生命周期稀里糊涂的，可能是被<code>mvn clean install</code>类似这种连写的方式误导了，最近有心得理解。</p><p>其实字面意思很明显了，“生命周期”，什么是“生命周期”，其实就是一条完整的流程，或者叫流水线，每条流水线上已经按照顺序定义好了phase。那clean/build/site其实就是三条独立的流水线。</p><p>每次执行一条生命周期时，其实就是按照某一个生命周期上已经绑定好的phase进行顺序扫描，扫描到有插件绑定在这个phase上时，就去执行配置好的goal，仅此而已。</p><p>另外补充一下，在idea插件中，有个lifecycle,显示的其实是phase，在使用spring-boot-maven-plugin插件时，发现并没有配置phase,其实插件默认绑定在了package极端</p><p>spring-boot-maven-plugin是不是默认绑定在package阶段？</p><p>是的，Spring Boot Maven插件默认绑定在Maven的package阶段，它会在执行该阶段时自动运行。在默认的情况下，spring-boot-maven-plugin会使用repackage目标来创建可执行的jar或war文件。</p><p>以下是Spring Boot官方文档对repackage目标的说明：</p><p>repackage 目标是 spring-boot-maven-plugin 的一个目标，它用于重新打包当前的JAR或WAR文件。在处理普通的JAR或WAR文件时，这通常会将依赖项复制到 BOOT-INF/lib 目录中，并将所有类文件复制到 BOOT-INF/classes 目录中。同时，此目标还重命名了原始的JAR或WAR文件，以 *-original.jar 或 *-original.war 命名，并创建一个新的可执行的JAR或WAR文件，以便在命令行上运行应用程序。</p><p>因此，在大多数情况下，您不需要在 pom.xml 文件中为 spring-boot-maven-plugin 插件指定任何额外的配置，它将在默认的package阶段正常工作。只有在您需要更改默认行为时，才需要根据需要更改 spring-boot-maven-plugin 插件的配置或执行计划。</p><p>最后再画一个图，图示用的default生命周期进行说明。</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230608144107.png" alt="20230608144107"></p>`,22);function h(b,f){const s=l("ExternalLinkIcon");return c(),o("div",null,[u,g,k,n("p",null,[n("a",d,[a("官方说明"),t(s)])]),r,n("p",null,[a("原因是maven会根据pom中packaging的类型给项目设置默认绑定的插件，"),n("a",v,[a("点击查看官方文档"),t(s)])]),m])}const _=e(i,[["render",h],["__file","生命周期.html.vue"]]),j=JSON.parse(`{"path":"/java/other/maven/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html","title":"Maven的生命周期","lang":"zh-CN","frontmatter":{"title":"Maven的生命周期","date":"2023-06-07T00:00:00.000Z","isOriginal":true,"category":["maven"],"description":"Maven的生命周期 There are three built-in build lifecycles: default, clean and site. The default lifecycle handles your project deployment, the clean lifecycle handles project cleanin...","head":[["meta",{"property":"og:url","content":"https://ChenSino.github.io/java/other/maven/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html"}],["meta",{"property":"og:site_name","content":"ChenSino"}],["meta",{"property":"og:title","content":"Maven的生命周期"}],["meta",{"property":"og:description","content":"Maven的生命周期 There are three built-in build lifecycles: default, clean and site. The default lifecycle handles your project deployment, the clean lifecycle handles project cleanin..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230607163732.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-22T03:45:12.000Z"}],["meta",{"property":"article:author","content":"ChenSino"}],["meta",{"property":"article:published_time","content":"2023-06-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-22T03:45:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Maven的生命周期\\",\\"image\\":[\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230607163732.png\\",\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230608144107.png\\"],\\"datePublished\\":\\"2023-06-07T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-22T03:45:12.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ChenSino\\",\\"url\\":\\"https://ChenSino.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Maven的生命周期","slug":"maven的生命周期","link":"#maven的生命周期","children":[]},{"level":2,"title":"各个生命周期包含的phase","slug":"各个生命周期包含的phase","link":"#各个生命周期包含的phase","children":[{"level":3,"title":"default lifecycle包含的phase","slug":"default-lifecycle包含的phase","link":"#default-lifecycle包含的phase","children":[]},{"level":3,"title":"clean lifecycle生命周期所包含的phase","slug":"clean-lifecycle生命周期所包含的phase","link":"#clean-lifecycle生命周期所包含的phase","children":[]},{"level":3,"title":"site lificycle生命周期包含的phase","slug":"site-lificycle生命周期包含的phase","link":"#site-lificycle生命周期包含的phase","children":[]}]},{"level":2,"title":"关于默认绑定的插件","slug":"关于默认绑定的插件","link":"#关于默认绑定的插件","children":[{"level":3,"title":"packaging类型pom 类型默认绑定插件","slug":"packaging类型pom-类型默认绑定插件","link":"#packaging类型pom-类型默认绑定插件","children":[]},{"level":3,"title":"packaging类型为jar，绑定的插件","slug":"packaging类型为jar-绑定的插件","link":"#packaging类型为jar-绑定的插件","children":[]}]},{"level":2,"title":"我对maven生命周期的理解","slug":"我对maven生命周期的理解","link":"#我对maven生命周期的理解","children":[]},{"level":2,"title":"写在最后","slug":"写在最后","link":"#写在最后","children":[]}],"git":{"createdTime":1686128130000,"updatedTime":1711079112000,"contributors":[{"name":"ChenSino","email":"462488588@qq.com","commits":4}]},"readingTime":{"minutes":5.37,"words":1611},"filePathRelative":"java/other/maven/生命周期.md","localizedDate":"2023年6月7日","excerpt":"<h2>Maven的生命周期</h2>\\n<p>There are three built-in build lifecycles: default, clean and site. The default lifecycle handles your project deployment, the clean lifecycle handles project cleaning, while the site lifecycle handles the creation of your project's web site.</p>\\n<h2>各个生命周期包含的phase</h2>\\n<p><a href=\\"https://maven.apache.org/ref/3.9.2/maven-core/lifecycles.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">官方说明</a></p>","autoDesc":true}`);export{_ as comp,j as data};
