import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";import{o as t,c as p,b as e,e as n,r as o}from"./app.59c3abb7.js";const c={},i=n(`<div class="custom-container note"><p class="custom-container-title">\u6CE8</p><p>\u672C\u535A\u5BA2\u4ECB\u7ECD\u524D\u540E\u7AEF\u5206\u79BB\u9879\u76EE\u7684\u5B8C\u6574\u63A5\u5165oauth\u7684\u6D41\u7A0B\uFF0C\u672C\u535A\u5BA2\u4F7F\u7528github\u6765\u793A\u8303\uFF0C\u56E0\u4E3Agithub\u6CE8\u518Coauth\u5E94\u7528\u65E0\u987B\u5BA1\u6838\uFF0C\u5FAE\u4FE1\u5BA1\u6838\u7279\u522B\u9EBB\u70E6\uFF0C\u5E76\u4E14\u4E2A\u4EBA\u7528\u6237\u65E0\u6CD5\u6CE8\u518C</p></div><h2 id="_1-oauth2" tabindex="-1"><a class="header-anchor" href="#_1-oauth2" aria-hidden="true">#</a> 1 oauth2</h2><h3 id="_1-1-\u5178\u578B\u5E94\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_1-1-\u5178\u578B\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a> 1.1 \u5178\u578B\u5E94\u7528\u573A\u666F</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>    <span class="token list punctuation">1.</span> \u793E\u4EA4\u5E10\u53F7\u767B\u5F55\u5E94\u7528\uFF0C\u6BD4\u5982\u4F7F\u7528\u5FAE\u4FE1\u3001\u5FAE\u535A\u767B\u5F55\u5176\u5B83\u5E94\u7528
    <span class="token list punctuation">2.</span> \u4ECE\u7B2C\u4E09\u65B9\u83B7\u53D6\u7528\u6237\u8D44\u6599\u6BD4\u5982\uFF1A\u624B\u673A\u53F7\u3001\u90AE\u7BB1\u3001\u5934\u50CF\u7B49
    <span class="token list punctuation">3.</span> \u4ECE\u7B2C\u4E09\u65B9\u83B7\u53D6\u4E1A\u52A1\u6570\u636E\uFF0C\u6BD4\u5982\uFF1A\u901A\u8FC7\u81EA\u5DF1\u7684\u7CFB\u7EDF\u60F3\u4ECE\u4EAC\u4E1C\u83B7\u53D6\u8BA2\u5355
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-\u5B8C\u6574\u65F6\u5E8F\u56FE" tabindex="-1"><a class="header-anchor" href="#_1-2-\u5B8C\u6574\u65F6\u5E8F\u56FE" aria-hidden="true">#</a> 1.2 \u5B8C\u6574\u65F6\u5E8F\u56FE</h3><p>\u5047\u8BBE\u6709\u4E00\u4E2A\u8F6F\u4EF6\u53EB\u5F00\u7ACB\u6743\u9650\u7BA1\u7406\u7CFB\u7EDF\uFF0C\u8BE5\u7CFB\u7EDF\u63A5\u5165\u4E86github\u767B\u5F55\uFF0C\u5219\u4F7F\u7528github\u767B\u5F55\u7684\u5B8C\u6574\u7684oauth\u6D41\u7A0B\u5982\u4E0B\uFF1A</p>`,6),l=n(`<h2 id="_2-github\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-github\u914D\u7F6E" aria-hidden="true">#</a> 2 GitHub\u914D\u7F6E</h2><p>\u8FDB\u5165\u4E2A\u4EBA\u8BBE\u7F6E\uFF0C\u5F00\u53D1\u8005\u8BBE\u7F6E\uFF0C\u6CE8\u518C\u4E00\u4E2AOauth\u5E94\u7528\uFF0C\u6CE8\u610F\u56DE\u8C03\u5730\u5740\u4E00\u5B9A\u8981\u548C\u540E\u7AEF\u4EE3\u7801\u4E2D\u5B9E\u9645\u4F7F\u7528\u7684\u662F\u540C\u4E00\u4E2A\uFF0C\u5728\u8FD9\u4E2A\u754C\u9762\u6CE8\u518C\u540E\u4F1A\u4EA7\u751FclientId\u548Csecret,\u5728\u56DE\u8C03\u7684\u65F6\u5019\u9700\u8981\u7528\u5230\u3002</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230428095222.png" alt="20230428095222" loading="lazy"></p><h2 id="_3-\u524D\u540E\u5206\u79BB\u9879\u76EE\u524D\u540E\u7AEF\u4EA4\u4E92" tabindex="-1"><a class="header-anchor" href="#_3-\u524D\u540E\u5206\u79BB\u9879\u76EE\u524D\u540E\u7AEF\u4EA4\u4E92" aria-hidden="true">#</a> 3 \u524D\u540E\u5206\u79BB\u9879\u76EE\u524D\u540E\u7AEF\u4EA4\u4E92</h2><h2 id="_4-\u524D\u7AEF\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_4-\u524D\u7AEF\u4EE3\u7801" aria-hidden="true">#</a> 4 \u524D\u7AEF\u4EE3\u7801</h2><p>\u4E0E\u666E\u901A\u9879\u76EE\u76F8\u6BD4\uFF0C\u5BF9\u63A5oauth\u9879\u76EE\u524D\u7AEF\u9700\u8981\u4F7F\u7528\u6280\u672F\u5982\u4E0B\uFF1A</p><ul><li>window.open\u5F39\u5C0F\u7A97</li><li>window.addEventListener\u76D1\u542C\u540E\u7AEF\u56DE\u4F20\u7684\u6570\u636E</li></ul><p>\u524D\u7AEF\u4F7F\u7528\u4E00\u4E2A\u5C0F\u5F39\u7A97\u6765\u767B\u5F55github,\u540C\u65F6\u8BE5\u5F39\u7A97\u8FD8\u8981\u76D1\u542C\u540E\u7AEF\u53D1\u9001\u8FC7\u6765\u7684message\u8FDB\u884C\u89E3\u7801\uFF0C\u4EA4\u4E92\u662F\u901A\u8FC7<code>window.opener.postMessage</code>api\u5B9E\u73B0\u7684\uFF0C\u540E\u7AEF\u7684\u54CD\u5E94\u7684\u9875\u9762\u4E2D\u8981\u4F7F\u7528\u8BE5api\u8FDB\u884C\u4F20\u503C\uFF0C\u4E3B\u8981\u4F20\u9012token\uFF0C\u7528\u6237\u4FE1\u606F\u7B49\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// proxy \u914D\u7F6E </span>
   <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://digital-gateway:8005&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token parameter">path</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">//\u4E1A\u52A1\u4EE3\u7801</span>
 <span class="token operator">&lt;</span>span title<span class="token operator">=</span><span class="token string">&quot;github\u767B\u5F55&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;iconfont&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;githubLogin&quot;</span>
        <span class="token operator">&gt;</span><span class="token operator">&amp;</span>#xe8ef<span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span <span class="token operator">&gt;</span>

<span class="token comment">//github\u767B\u5F55</span>
<span class="token keyword">const</span> <span class="token function-variable function">githubLogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//window.open\u4F1A\u81EA\u52A8\u62FC\u63A5\u5F53\u524D\u7684\u57DF\uFF0C\u7136\u540E\u8D70vue proxy\u8F6C\u53D1\u5230\u540E\u7AEF</span>
  <span class="token keyword">const</span> githubLoginUrl <span class="token operator">=</span> <span class="token string">&#39;/api/auth/oauth/githubLogin&#39;</span>
  <span class="token comment">//  \u5F39\u51FA 500 * 500 \u7684\u7A97\u53E3</span>
  window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
    githubLoginUrl<span class="token punctuation">,</span>
    <span class="token string">&#39;new&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;height=500, width=500, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token comment">//  \u901A\u8FC7\u76D1\u542C\uFF0C\u7236\u9875\u9762\u53EF\u4EE5\u62FF\u5230\u5B50\u9875\u9762\u4F20\u9012\u7684token\uFF0C\u7236(\u524D\u7AEF\u9875\u9762)\uFF0C\u5B50(\u540E\u7AEFfreemarker\u5C0F\u7A97)</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span>
    <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u540E\u7AEF\u4F20\u9012\u7684Base64\u683C\u5F0F\u6570\u636E\u3010\u89E3\u51B3\u591Ahtml\u901A\u4FE1\uFF0C\u5F15\u53F7\u7684\u7F16\u7801\u95EE\u9898\u3011\uFF0C\u6B64\u5904\u89E3\u7801</span>
        <span class="token keyword">const</span> decodedString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>
          <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>
            <span class="token function">atob</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        <span class="token comment">//\u767B\u5F55\u540E\u7684\u7528\u6237\u4FE1\u606F</span>
        <span class="token keyword">const</span> <span class="token literal-property property">loginRes</span><span class="token operator">:</span> LoginRes <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>decodedString<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>loginRes<span class="token punctuation">.</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//\u524D\u7AEF\u4FDD\u5B58token</span>
          <span class="token function">setToken</span><span class="token punctuation">(</span>loginRes<span class="token punctuation">.</span>token<span class="token punctuation">)</span>
         <span class="token comment">//\u5176\u5B83</span>
          <span class="token function">changeUserInfo</span><span class="token punctuation">(</span>loginRes<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
          <span class="token comment">//\u8DF3\u8F6C\u5230\u9996\u9875</span>
          router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/home&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;\u4F7F\u7528GitHub\u767B\u5F55\u5931\u8D25&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;OAuth\u767B\u5F55\u5931\u8D25\uFF0C&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-\u540E\u7AEF\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_5-\u540E\u7AEF\u5904\u7406" aria-hidden="true">#</a> 5 \u540E\u7AEF\u5904\u7406</h2><h3 id="_5-1-\u5904\u7406github\u6388\u6743\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_5-1-\u5904\u7406github\u6388\u6743\u8BF7\u6C42" aria-hidden="true">#</a> 5.1 \u5904\u7406github\u6388\u6743\u8BF7\u6C42</h3><blockquote><p>\u8FD9\u4E2A\u63A5\u53E3\u53EF\u4EE5\u4E0D\u7528\u5199\u5728\u540E\u7AEF\uFF0C\u524D\u7AEF\u53EF\u4EE5\u76F4\u63A5\u8BF7\u6C42<code>https://github.com/login/oauth/authorize?client_id=xxx&amp;redirect_uri=xxx</code>\uFF0C\u6B63\u5E38\u60C5\u51B5\u4E0B\uFF0C\u524D\u7AEF\u8BF7\u6C42\u540E\u4F1A\u6839\u636Eredirect_url\u91CD\u5B9A\u5411\u5230\u6211\u4EEC\u914D\u7F6E\u7684\u540E\u7AEF\u63A5\u53E3\uFF0C\u8FD9\u4E2Aredirect_url\u4E00\u5B9A\u8981\u548C\u4F60\u5728github\u914D\u7F6E\u7684\u4E00\u81F4\uFF0C\u6211\u8FD9\u91CC\u628A\u8BF7\u6C42github\u7684\u6388\u6743\u7528\u540E\u7AEF\u8F6C\u53D1\u4E86\u4E00\u4E0B\uFF0C\u6240\u4EE5\u6700\u540E\u8981\u91CD\u5B9A\u5411\u4E00\u4E0B\uFF0C\u8FD8\u662F\u91CD\u5B9A\u5411\u5230\u4E86<code>https://github.com/login/oauth/authorize?client_id=xxx&amp;redirect_uri=xxx</code></p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;oauth/githubLogin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">githubLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        url<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>githubConfig<span class="token punctuation">.</span><span class="token function">getAuthorizeUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;?client_id=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>githubConfig<span class="token punctuation">.</span><span class="token function">getClientId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;redirect_uri=&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>githubConfig<span class="token punctuation">.</span><span class="token function">getRedirectUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u91CD\u5B9A\u5411\u5230github\u5F00\u653E\u7684\u767B\u5F55\u9875\u9762</span>
        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-\u91CD\u5B9A\u5411\u540E\u7684\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_5-2-\u91CD\u5B9A\u5411\u540E\u7684\u5904\u7406" aria-hidden="true">#</a> 5.2 \u91CD\u5B9A\u5411\u540E\u7684\u5904\u7406</h3><div class="custom-container danger"><p class="custom-container-title">\u6CE8\u610F\uFF01\uFF01\uFF01</p><p>\u8FD9\u91CC\u8981\u6CE8\u610F\uFF0C\u91CD\u5B9A\u5411\u540E\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A<code>ModelAndView</code>\u89C6\u56FE\uFF0C\u6240\u4EE5\u6CE8\u89E3\u8981\u7528<code>@Controller</code>,\u5207\u8BB0\u4E0D\u8981\u7528<code>@RestController</code></p></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> tags <span class="token operator">=</span> <span class="token string">&quot;\u7B2C\u4E09\u65B9\u767B\u5F55\u63A5\u53E3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OauthLoginController</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">IOauthLoginService</span> oauthLoginService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;oauth/githubLogin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">githubLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        oauthLoginService<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//github\u91CD\u5B9A\u5411\u540E\u4F1A\u8FDB\u5165\u8FD9\u91CC\uFF0C\u5E76\u4E14\u4F1A\u643A\u5E26\u4E00\u4E2Acode</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/oauth/callback&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">gitHubCallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> oauthLoginService<span class="token punctuation">.</span><span class="token function">loginByGitHub</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">loginByGitHub</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u89C6\u56FE\uFF0C\u5BF9\u5E94\u6211\u7684\u6A21\u677F\u6587\u4EF6\uFF0C\u6709\u4E2Agithub.ftl</span>
        <span class="token class-name">ModelAndView</span> mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token string">&quot;github&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//github \u7684oauth\u5FC5\u8981\u7684\u53C2\u6570\uFF0Ccode\u662F\u91CD\u5B9A\u5411\u65F6\u5E26\u8FC7\u6765\u7684</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;client_id&quot;</span><span class="token punctuation">,</span> githubConfig<span class="token punctuation">.</span><span class="token function">getClientId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;client_secret&quot;</span><span class="token punctuation">,</span> githubConfig<span class="token punctuation">.</span><span class="token function">getSecret</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u6839\u636Ecode\u8BF7\u6C42github\u7684token</span>
        <span class="token class-name">String</span> response <span class="token operator">=</span> <span class="token class-name">HttpUtil</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>githubConfig<span class="token punctuation">.</span><span class="token function">getAccessTokenUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u89E3\u6790\u51FAtoken</span>
        <span class="token class-name">String</span> token <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// \u62FF\u5230github token\uFF0C\u6839\u636Etoken\u8BF7\u6C42\u7528\u6237\u4FE1\u606F</span>
        <span class="token class-name">String</span> githubUser <span class="token operator">=</span> <span class="token class-name">HttpRequest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>githubConfig<span class="token punctuation">.</span><span class="token function">getUserInfoUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bearer &quot;</span> <span class="token operator">+</span> token<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u6839\u636Egithub\u54CD\u5E94\u7528\u6237\u4FE1\u606F\u67E5\u8BE2\u5BF9\u5E94\u7684\u672C\u5730\u7528\u6237</span>
        <span class="token class-name">String</span> githubUserId <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>githubUser<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u62FF\u5230github\u7684ueserId,\u6839\u636EuserId\u5230\u81EA\u5DF1\u7684\u7CFB\u7EDF\u67E5\u8BE2\u5F53\u524D\u767B\u5F55\u7684github\u5BF9\u5E94\u7684\u81EA\u5DF1\u7CFB\u7EDF\u7528\u6237\uFF0C</span>

        <span class="token comment">//TODO \u4EE5\u4E0B\u67E5\u8BE2\u903B\u8F91\u8981\u6539\u6210\u81EA\u5DF1\u7684</span>
        <span class="token class-name">SubUser</span> subUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subUser<span class="token punctuation">.</span><span class="token function">setSubUserId</span><span class="token punctuation">(</span>githubUserId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        subUser<span class="token punctuation">.</span><span class="token function">setProjectCode</span><span class="token punctuation">(</span><span class="token string">&quot;github&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SubUser</span><span class="token punctuation">&gt;</span></span> subUserList <span class="token operator">=</span> subUserService<span class="token punctuation">.</span><span class="token function">selectBySubUser</span><span class="token punctuation">(</span>subUser<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CollectionUtil</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>subUserList<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BusinessException</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u767B\u5F55\u7684GitHub\u5E10\u53F7\u672A\u548C\u7CFB\u7EDF\u5E10\u53F7\u7ED1\u5B9A\uFF0C\u8BF7\u5148\u7ED1\u5B9A\u518D\u4F7F\u7528GitHub\u8FDB\u884C\u767B\u5F55&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//\u6839\u636EuserCode \u67E5\u8BE2\u7528\u89D2\u8272\u6743\u9650\u4FE1\u606F</span>
        <span class="token class-name">UserLoginDTO</span> userLoginDTO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserLoginDTO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userLoginDTO<span class="token punctuation">.</span><span class="token function">setUserCode</span><span class="token punctuation">(</span>subUserList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userLoginDTO<span class="token punctuation">.</span><span class="token function">setLoginType</span><span class="token punctuation">(</span><span class="token class-name">AccountConstant</span><span class="token punctuation">.</span>LOGIN_BY_GITHUB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//TODO \u767B\u5F55\u6838\u5FC3\u903B\u8F91\uFF0C\u6539\u6210\u81EA\u5DF1\u7684\uFF0C \u6211\u8FD9\u91CCLoginVo\u5305\u542B\u4E86\u7528\u6237\u89D2\u8272\u6743\u9650\u4FE1\u606F\uFF0C\u4EE5\u53CAtoken\uFF0C\u7528\u6765\u56DE\u4F20\u7ED9\u524D\u7AEF</span>
        <span class="token class-name">LoginVo</span> loginVo <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>userLoginDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> loginVoJson <span class="token operator">=</span> <span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>loginVo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u901A\u8FC7BASE64\u89E3\u51B3\u524D\u7AEF window.opener.postMessage(&#39;\${loginUser}&#39;, \`\${domain}\`)\u4F20\u9012\u5F15\u53F7\u4EA7\u751F\u7684\u89E3\u6790\u95EE\u9898\uFF0C\u524D\u7AEF\u4F7F\u7528\u65F6base64\u53CD\u89E3\u7801</span>
        <span class="token class-name">String</span> loginVoJsonBase64 <span class="token operator">=</span> <span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">getEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encodeToString</span><span class="token punctuation">(</span>loginVoJson<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;loginUser&quot;</span><span class="token punctuation">,</span> loginVoJsonBase64<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;domain&quot;</span><span class="token punctuation">,</span> githubConfig<span class="token punctuation">.</span><span class="token function">getFrontendHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u5B9A\u5411\u540E\u54CD\u5E94\u7684\u89C6\u56FEgithub.ftl\u5982\u4E0B\uFF0C\u8FD9\u91CC\u4EE3\u7801\u975E\u5E38\u7B80\u5355\uFF0C\u5C31\u662F\u6253\u5F00\u4E00\u4E0B\uFF0C\u7136\u540E\u8C03\u7528\u524D\u7AEF\u7684<code>window.opener.postMessage</code>api,\u628A\u767B\u5F55\u540E\u7684\u6570\u636E\u53D1\u9001\u7ED9\u524D\u7AEF\uFF0C<code>window.opener</code>\u662F\u6307\u7684\u8C03\u7528\u5F53\u524D\u9875\u9762\u7684\u201C\u9875\u9762\u201D\uFF0C\u5176\u5B9E\u5C31\u662F\u7528\u6237\u6253\u5F00\u7684\u7CFB\u7EDF\u9996\u9875\uFF0C\u8FD9\u662F\u56DE\u4F20\u6D88\u606F\u4E5F\u662F\u56DE\u4F20\u7ED9\u9996\u9875\u90A3\u4E2A\u9875\u9762\uFF0C\u56DE\u4F20\u540E\u524D\u7AEF\u901A\u8FC7<code>window.addEventListener(&#39;message&#39;,e=&gt;{})</code>\u53EF\u4EE5\u76D1\u542C\u5230\u53D1\u9001\u6765\u7684\u6570\u636E\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>GitHub\u767B\u5F55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
\u767B\u9646\u4E2D...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u7ED9\u6307\u5B9Adomain\u53D1\u9001\u6D88\u606F</span>
        window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;\${loginUser}&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
        <span class="token comment">//\u6570\u636E\u53D1\u9001\u540E\u81EA\u52A8\u5173\u95ED</span>
        window<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-\u524D\u540E\u4EA4\u4E92\u6570\u636E\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_5-3-\u524D\u540E\u4EA4\u4E92\u6570\u636E\u95EE\u9898" aria-hidden="true">#</a> 5.3 \u524D\u540E\u4EA4\u4E92\u6570\u636E\u95EE\u9898</h3><p>\u8FD9\u91CC\u524D\u540E\u4EA4\u4E92\u6570\u636E\u5176\u5B9E\u662F\u901A\u8FC7\u4E00\u4E2A\u4E2D\u8F6C\u9875\u9762github.ftl\u5B9E\u73B0\u7684\uFF0C\u8FD9\u91CC\u4E2D\u8F6C\u65F6\u9047\u5230\u4E86\u6570\u636E\u683C\u5F0F\u95EE\u9898\uFF0C\u540E\u7AEF\u901A\u8FC7freemarker\u6A21\u677F\u56DE\u5E94\u7684\u6570\u636E\uFF0C\u88AB\u524D\u7AEF\u76D1\u542C\u540E\u89E3\u6790\u603B\u6709\u53CC\u5F15\u53F7\u95EE\u9898\uFF0C\u6240\u4EE5\u8FD9\u901A\u8FC7base64\u4E2D\u8F6C\u4E00\u4E0B\uFF0C\u540E\u7AEFbase64\u7F16\u7801\uFF0C\u524D\u7AEFbase64\u89E3\u7801\u3002</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230427182157.png" alt="20230427182157" loading="lazy"></p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230427182214.png" alt="20230427182214" loading="lazy"></p>`,23);function u(k,r){const s=o("Mermaid");return t(),p("div",null,[i,e(s,{id:"mermaid-382ee14d",code:"sequenceDiagram%0A%20%20%20%20actor%20E%20as%20%E8%B5%84%E6%BA%90%E6%89%80%E6%9C%89%E8%80%85(github%E7%94%A8%E6%88%B7)%0A%20%20%20%20participant%20A%20as%20%E5%BC%80%E7%AB%8B%E6%9D%83%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AB%AF%EF%BC%88%E6%B5%8F%E8%A7%88%E5%99%A8%EF%BC%89%0A%20%20%20%20participant%20B%20as%20%E5%BC%80%E7%AB%8B%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%90%8E%E7%AB%AF%0A%20%20%20%20participant%20C%20as%20%E5%BE%AE%E4%BF%A1Oauth%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20participant%20D%20as%20github%E5%8F%97%E4%BF%9D%E6%8A%A4%E8%B5%84%E6%BA%90%0A%20%20%20%20E%20-%3E%3E%20A%3A%201.%E8%AE%BF%E9%97%AE%E5%BC%80%E7%AB%8B%E7%B3%BB%E7%BB%9F%0A%20%20%20%20A-%3E%3EA%3A%20%E5%BC%95%E5%AF%BC%E6%8E%88%E6%9D%83%EF%BC%8C%E7%94%A8%E6%88%B7%E9%80%89%E6%8B%A9github%E7%99%BB%E5%BD%95%0A%20%20%20%20A-%3E%3EC%3A%202.%20%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E6%8E%88%E6%9D%83%E6%9C%8D%E5%8A%A1%0A%20%20%20%20C-%3E%3EC%3A%20%E6%A0%A1%E9%AA%8C%E5%BD%93%E5%89%8D%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%90%88%E6%B3%95%E6%80%A7%EF%BC%8C%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0github%E7%99%BB%E5%BD%95%E9%A1%B5%0A%20%20%20%20E-%3E%3EC%3A%203.%20%E8%BE%93%E5%85%A5%E5%B8%90%E5%8F%B7%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%0A%20%20%20%20C-%3E%3EC%3A%204%20%E7%94%9F%E6%88%90%E6%8E%88%E6%9D%83%E7%A0%81code%0A%20%20%20%20C--%3E%3EA%3A%205.%20%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%94%9F%E5%AE%9A%E5%90%91%EF%BC%8C%E8%B7%B3%E8%BD%AC%E5%88%B0%E5%BC%80%E7%AB%8B%E7%B3%BB%E7%BB%9F%E5%89%8D%E7%AB%AF%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%90%BA%E5%B8%A6%E4%BA%86code%0A%20%20%20%20A-%3E%3EB%3A%206.%E8%AF%B7%E6%B1%82%E6%9C%80%E7%BB%88%E4%BC%9A%E6%90%BA%E5%B8%A6code%E5%88%B0%E5%90%8E%E7%AB%AF%0A%20%20%20%20B-%3E%3EB%3A%20%E8%8E%B7%E5%BE%97code%0A%20%20%20%20B-%3E%3EC%3A%207.%20%E6%8B%BF%E5%88%B0code%2Cpost%E8%AF%B7%E6%B1%82oauth%E6%9C%8D%E5%8A%A1%E5%99%A8%0A%20%20%20%20C--)B%3A%208.%20%E8%BF%94%E5%9B%9Eaccess_token%0A%20%20%20%20B-%3E%3ED%3A%209.%20%E6%90%BA%E5%B8%A6access_token%2C%E8%AE%BF%E9%97%AE%E5%8F%97%E4%BF%9D%E6%8A%A4%E8%B5%84%E6%BA%90%0A%20%20%20%20D--)B%3A%2010.%20%E8%BF%94%E5%9B%9E%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%0A"}),l])}var m=a(c,[["render",u],["__file","OAUTH_LOGIN.html.vue"]]);export{m as default};
