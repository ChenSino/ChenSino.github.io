import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as d,e as a}from"./app-eaM1OiHO.js";const n={},s=a(`<h2 id="_1、用服中控" tabindex="-1"><a class="header-anchor" href="#_1、用服中控"><span>1、用服中控</span></a></h2><h3 id="_1-1-源码" tabindex="-1"><a class="header-anchor" href="#_1-1-源码"><span>1.1 源码</span></a></h3><blockquote><p><strong>仓库有权限，访问需要事先申请帐号权限</strong></p></blockquote><table><thead><tr><th>项目</th><th>代码地址</th><th>备注</th></tr></thead><tbody><tr><td>web前端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/central_control_system_front.git</td><td></td></tr><tr><td>开立GO工程师版小程序</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/mina-ccm.git</td><td></td></tr><tr><td>开立GO（医生端）</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/wechat-hospital.git</td><td></td></tr><tr><td>后端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/central_control_system_back.git</td><td></td></tr></tbody></table><h3 id="_1-2-各个子项目说明" tabindex="-1"><a class="header-anchor" href="#_1-2-各个子项目说明"><span>1.2 各个子项目说明</span></a></h3><p>如下图，中控共 包含4个子项目，数据的来源是在两个小程序，经过后端处理写入数据库，中控前端是最终系统的管理页面，其中各子项目的作用如下表：</p><table><thead><tr><th>项目</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>开立GO-工程师版</td><td>1. 现场工程师录单（装机、保养、维修、备件安装）<br>2. 数据查看（医院数据、历史工单等）<br>3. 主机制造数据查看<br>4.医院管理（在小程序新增、编辑医院）</td><td>主机制造数据是中控调用另一个系统接口获得</td></tr><tr><td>开立GO-医生版</td><td>医生扫机器上的保修二维码进行报修</td><td></td></tr><tr><td>中控web前端</td><td>1. 管理员对系统进行管理<br>2. 领导对员工工单进行查看和管理<br>3. 简单报表统计</td><td></td></tr><tr><td>中控后端</td><td>业务逻辑处理</td><td></td></tr></tbody></table><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/image-20230216095845968.png" alt="1.2-1"></p><table><thead><tr><th>模块</th><th>功能</th><th>备注</th></tr></thead><tbody><tr><td>ccs-register</td><td>nacos注册中心</td><td></td></tr><tr><td>ccs-tx-manager</td><td>分布式事务</td><td></td></tr><tr><td>ccs-upms-biz</td><td>系统权限管理</td><td></td></tr><tr><td>ccs-auth</td><td>oauth授权中心</td><td></td></tr><tr><td>ccs-gateway</td><td>网关</td><td></td></tr><tr><td>ccs-panel-biz</td><td>首页大看板对应的后端微服务</td><td></td></tr><tr><td>ccs-data-biz</td><td>核心业务模块</td><td></td></tr></tbody></table><h3 id="_1-3-文档" tabindex="-1"><a class="header-anchor" href="#_1-3-文档"><span>1.3 文档</span></a></h3><p>《用服中控平台设计文档》</p><p>https://pig4cloud.com/data/doc</p><h3 id="_1-4-部署运维" tabindex="-1"><a class="header-anchor" href="#_1-4-部署运维"><span>1.4 部署运维</span></a></h3><h4 id="_1-4-1-帐号密码" tabindex="-1"><a class="header-anchor" href="#_1-4-1-帐号密码"><span>1.4.1 帐号密码</span></a></h4><table><thead><tr><th>服务器</th><th>帐号</th><th>密码</th><th>备注</th></tr></thead><tbody><tr><td>10.10.102.106 测试环境</td><td>root</td><td>sonoscape</td><td></td></tr><tr><td>159.135.46.48 生产环境</td><td>root</td><td>Sono@bom</td><td></td></tr></tbody></table><p><strong>系统帐号</strong></p><table><thead><tr><th>访问地址</th><th>帐号</th><th>密码</th><th>备注</th></tr></thead><tbody><tr><td>http://h.sonoscape.com/ 生产环境</td><td>admin</td><td>2021Sonoscape</td><td></td></tr><tr><td>http://10.10.102.106:18888/ 测试环境</td><td>admin</td><td>123456</td><td></td></tr><tr><td>http://domain:9999/swagger-ui.html</td><td></td><td></td><td>1. 用户帐号+密文，需自行加密获得密文；2.客户端id和密钥为test/test,具体请参考数据库中oauth的客户端信息表</td></tr></tbody></table><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/image-20230216141620566.png" alt="image-20230216141620566"></p><p><strong>中间件帐号</strong></p><table><thead><tr><th>中间件</th><th>服务器</th><th>帐号</th><th>密码</th><th>端口</th><th>备注</th></tr></thead><tbody><tr><td>redis 生产环境</td><td>159.135.45.48</td><td></td><td>sonoscape</td><td>6379</td><td>仅内网访问</td></tr><tr><td>redis 测试环境</td><td>10.10.102.105</td><td></td><td>sonoscape</td><td>6379</td><td></td></tr><tr><td>mysql 生产环境</td><td>159.138.45.48</td><td>root</td><td>Sono@web2022</td><td>3388</td><td></td></tr><tr><td>frp生产环境</td><td>159.138.45.48</td><td></td><td>sonoscape</td><td>7000</td><td>内网穿透，目录地址<code>/usr/local/webserver/frp_0.35.1_linux_amd64</code></td></tr></tbody></table><h4 id="_1-4-2-部署" tabindex="-1"><a class="header-anchor" href="#_1-4-2-部署"><span>1.4.2 部署</span></a></h4><p><strong>测试环境</strong></p><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code>
后端部署路径:<span class="token code-snippet code keyword">\`/home/ccs\`</span>

后端日志：<span class="token code-snippet code keyword">\`/home/ccs/logs\`</span>

前端路径：<span class="token code-snippet code keyword">\`/home/ccs/dist\`</span>

前端nginx配置路径：<span class="token code-snippet code keyword">\`/usr/local/webserver/nginx/conf/sites-enabled/ccs-18888-106.conf\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>生产环境</strong></p><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code>后端部署路径:<span class="token code-snippet code keyword">\`/home/central_control_system_back\`</span>

后端日志：<span class="token code-snippet code keyword">\`/home/central_control_system_back/logs\`</span>

前端路径：<span class="token code-snippet code keyword">\`/home/central_control_system_front/dist\`</span>

前端nginx配置路径：<span class="token code-snippet code keyword">\`/usr/local/webserver/nginx/conf/site-enable/ccs.conf\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>部署</strong></p><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 部署前配置hosts
	127.0.0.1 ccs-register ccs-gateway ccs-redis ccs-mysql ccm-mysql device-mysql
<span class="token list punctuation">2.</span> 前端启动nginx即可访问
<span class="token list punctuation">3.</span> 后端基于SpringCloud+Spring Gateway + Nacos，启动顺序如下：
    ccs-register.jar -&gt; ccs-tx-manager.jar -&gt; ccs-upms-biz.jar -&gt; ccs-auth.jar -&gt; ccs-gateway.jar -&gt; ccs-data-biz.jar -&gt; 
    ccs-panel-biz.jar -&gt; ccs-ccmoa-biz.jar
    理论上只要保证前4个启动顺序即可，其他随意
<span class="token list punctuation">4.</span> 目前测试环境针对核心业务模块ccs-data做了jenkins自动化部署，提交代码会自动触发，具体可以查看jenkins流水线
	后端：http://10.10.102.105:8899/jenkins/user/chenxk/my-views/view/%E9%99%88%E5%85%88%E6%98%86/job/ccs_back/
	前端：http://10.10.102.105:8899/jenkins/user/chenxk/my-views/view/%E9%99%88%E5%85%88%E6%98%86/job/ccs_front/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2、用服bom" tabindex="-1"><a class="header-anchor" href="#_2、用服bom"><span>2、用服bom</span></a></h2><h3 id="_2-1-源码" tabindex="-1"><a class="header-anchor" href="#_2-1-源码"><span>2.1 源码</span></a></h3><table><thead><tr><th>模块</th><th>仓库地址</th><th></th><th></th></tr></thead><tbody><tr><td>前端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/sono_bom_web</td><td></td><td></td></tr><tr><td>后端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/sono_bom_config</td><td></td><td></td></tr></tbody></table><h3 id="_2-2-文档" tabindex="-1"><a class="header-anchor" href="#_2-2-文档"><span>2.2 文档</span></a></h3><h3 id="_2-3-部署运维" tabindex="-1"><a class="header-anchor" href="#_2-3-部署运维"><span>2.3 部署运维</span></a></h3><h4 id="_2-3-1-帐号密码" tabindex="-1"><a class="header-anchor" href="#_2-3-1-帐号密码"><span>2.3.1 帐号密码</span></a></h4><table><thead><tr><th>服务器</th><th>帐号</th><th>密码</th><th>备注</th></tr></thead><tbody><tr><td>10.10.102.106 测试环境</td><td>root</td><td>sonoscape</td><td></td></tr><tr><td>159.135.46.48 生产环境</td><td>root</td><td>Sono@bom</td><td></td></tr></tbody></table><p><strong>系统帐号</strong></p><table><thead><tr><th>访问地址</th><th>帐号</th><th>密码</th><th>备注</th></tr></thead><tbody><tr><td>http://serbom.sonoscape.net 生产环境</td><td>admin</td><td>123456</td><td></td></tr></tbody></table><p><strong>中间件帐号</strong></p><table><thead><tr><th>中间件</th><th>服务器</th><th>帐号</th><th>密码</th><th>端口</th><th>备注</th></tr></thead><tbody><tr><td>redis 生产环境</td><td>159.135.45.48</td><td></td><td>sonoscape</td><td>6379</td><td>仅内网访问</td></tr><tr><td>redis 测试环境</td><td>10.10.102.105</td><td></td><td>sonoscape</td><td>6379</td><td></td></tr><tr><td>mysql 生产环境</td><td>159.138.45.48</td><td>root</td><td>Sono@web2022</td><td>3388</td><td>2.3.2</td></tr></tbody></table><h4 id="_2-3-2-部署" tabindex="-1"><a class="header-anchor" href="#_2-3-2-部署"><span>2.3.2 部署</span></a></h4><div class="language-markdown line-numbers-mode" data-ext="md" data-title="md"><pre class="language-markdown"><code><span class="token list punctuation">1.</span> 前端
	部署路径：<span class="token code-snippet code keyword">\`/home/sono_bom_web/dist\`</span>
	nginx配置： <span class="token code-snippet code keyword">\`/usr/local/webserver/nginx/conf/nginx.conf\`</span>
<span class="token list punctuation">2.</span> 后端
	部署路径：<span class="token code-snippet code keyword">\`/home/sono_bom\`</span>
	springboot配置： <span class="token code-snippet code keyword">\`/home/sono_bom/config\`</span>
	日志路径：<span class="token code-snippet code keyword">\`/home/sono_bom/logs\`</span>
	启动脚本： <span class="token code-snippet code keyword">\`/home/sono_bom/startBom.sh\`</span>
	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-预算编辑工具" tabindex="-1"><a class="header-anchor" href="#_3-预算编辑工具"><span>3.预算编辑工具</span></a></h2><h3 id="_3-1源码" tabindex="-1"><a class="header-anchor" href="#_3-1源码"><span>3.1源码</span></a></h3><table><thead><tr><th>模块</th><th>仓库路径</th></tr></thead><tbody><tr><td>前端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/central_control_system_front.git</td></tr><tr><td>后端</td><td>http://gitlab.sonoscape.com/general_software/web/aftermarket/budget_edit_back.git</td></tr></tbody></table><h3 id="_3-2文档" tabindex="-1"><a class="header-anchor" href="#_3-2文档"><span>3.2文档</span></a></h3><h3 id="_3-3-1部署" tabindex="-1"><a class="header-anchor" href="#_3-3-1部署"><span>3.3.1部署</span></a></h3><table><thead><tr><th>中间件</th><th>服务器</th><th>账号</th><th>密码</th><th>端口</th><th>备注</th></tr></thead><tbody><tr><td>mysql测试环境</td><td>10.10.102.105</td><td>root</td><td>sonoscope</td><td>3306</td><td>内网</td></tr><tr><td>redis测试环境</td><td>10.10.102.105</td><td></td><td>sonoscope</td><td>6379</td><td></td></tr></tbody></table><h2 id="_4-erp条码-设备追踪同步功能" tabindex="-1"><a class="header-anchor" href="#_4-erp条码-设备追踪同步功能"><span>4.ERP条码-设备追踪同步功能</span></a></h2><h3 id="_4-1源码" tabindex="-1"><a class="header-anchor" href="#_4-1源码"><span>4.1源码</span></a></h3><table><thead><tr><th>模块</th><th>仓库路径</th></tr></thead><tbody><tr><td>后端</td><td>http://webgit.sonoscape.com/administrator/sono_barcode_timer</td></tr></tbody></table><h3 id="_4-2文档" tabindex="-1"><a class="header-anchor" href="#_4-2文档"><span>4.2文档</span></a></h3><h4 id="_4-2-1交接文档" tabindex="-1"><a class="header-anchor" href="#_4-2-1交接文档"><span>4.2.1交接文档</span></a></h4><p>《ERP条码-设备追踪同步功能》</p><h4 id="_4-2-2接口文档" tabindex="-1"><a class="header-anchor" href="#_4-2-2接口文档"><span>4.2.2接口文档</span></a></h4><p>http://10.10.102.85:6024/swagger-ui.html#/</p><h2 id="_5、其他" tabindex="-1"><a class="header-anchor" href="#_5、其他"><span>5、其他</span></a></h2><h3 id="_5-1-数据备份" tabindex="-1"><a class="header-anchor" href="#_5-1-数据备份"><span>5.1 数据备份</span></a></h3><p>数据库备份使用的crontab,具体请查看脚本</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">crontab</span> <span class="token parameter variable">-l</span>
<span class="token number">0</span> <span class="token number">3</span> * * * <span class="token function">sh</span> /home/data/mysqlbackup/bom/bombackup.sh
<span class="token number">0</span> <span class="token number">0</span> * * * <span class="token function">sh</span> /home/data/mysqlbackup/ccs/ccsbackup.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,58),r=[s];function o(i,c){return e(),d("div",null,r)}const p=t(n,[["render",o],["__file","UserService.html.vue"]]),b=JSON.parse('{"path":"/other/training/UserService.html","title":"用服项目交接","lang":"zh-CN","frontmatter":{"title":"用服项目交接","date":"2023-03-14T00:00:00.000Z","isOriginal":true,"description":"1、用服中控 1.1 源码 仓库有权限，访问需要事先申请帐号权限 1.2 各个子项目说明 如下图，中控共 包含4个子项目，数据的来源是在两个小程序，经过后端处理写入数据库，中控前端是最终系统的管理页面，其中各子项目的作用如下表： 1.2-1 1.3 文档 《用服中控平台设计文档》 https://pig4cloud.com/data/doc 1.4 部...","head":[["meta",{"property":"og:url","content":"https://ChenSino.github.io/other/training/UserService.html"}],["meta",{"property":"og:site_name","content":"ChenSino"}],["meta",{"property":"og:title","content":"用服项目交接"}],["meta",{"property":"og:description","content":"1、用服中控 1.1 源码 仓库有权限，访问需要事先申请帐号权限 1.2 各个子项目说明 如下图，中控共 包含4个子项目，数据的来源是在两个小程序，经过后端处理写入数据库，中控前端是最终系统的管理页面，其中各子项目的作用如下表： 1.2-1 1.3 文档 《用服中控平台设计文档》 https://pig4cloud.com/data/doc 1.4 部..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/image-20230216095845968.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-22T03:45:12.000Z"}],["meta",{"property":"article:author","content":"ChenSino"}],["meta",{"property":"article:published_time","content":"2023-03-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-22T03:45:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"用服项目交接\\",\\"image\\":[\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/image-20230216095845968.png\\",\\"https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/image-20230216141620566.png\\"],\\"datePublished\\":\\"2023-03-14T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-22T03:45:12.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ChenSino\\",\\"url\\":\\"https://ChenSino.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1、用服中控","slug":"_1、用服中控","link":"#_1、用服中控","children":[{"level":3,"title":"1.1 源码","slug":"_1-1-源码","link":"#_1-1-源码","children":[]},{"level":3,"title":"1.2 各个子项目说明","slug":"_1-2-各个子项目说明","link":"#_1-2-各个子项目说明","children":[]},{"level":3,"title":"1.3 文档","slug":"_1-3-文档","link":"#_1-3-文档","children":[]},{"level":3,"title":"1.4 部署运维","slug":"_1-4-部署运维","link":"#_1-4-部署运维","children":[]}]},{"level":2,"title":"2、用服bom","slug":"_2、用服bom","link":"#_2、用服bom","children":[{"level":3,"title":"2.1 源码","slug":"_2-1-源码","link":"#_2-1-源码","children":[]},{"level":3,"title":"2.2 文档","slug":"_2-2-文档","link":"#_2-2-文档","children":[]},{"level":3,"title":"2.3 部署运维","slug":"_2-3-部署运维","link":"#_2-3-部署运维","children":[]}]},{"level":2,"title":"3.预算编辑工具","slug":"_3-预算编辑工具","link":"#_3-预算编辑工具","children":[{"level":3,"title":"3.1源码","slug":"_3-1源码","link":"#_3-1源码","children":[]},{"level":3,"title":"3.2文档","slug":"_3-2文档","link":"#_3-2文档","children":[]},{"level":3,"title":"3.3.1部署","slug":"_3-3-1部署","link":"#_3-3-1部署","children":[]}]},{"level":2,"title":"4.ERP条码-设备追踪同步功能","slug":"_4-erp条码-设备追踪同步功能","link":"#_4-erp条码-设备追踪同步功能","children":[{"level":3,"title":"4.1源码","slug":"_4-1源码","link":"#_4-1源码","children":[]},{"level":3,"title":"4.2文档","slug":"_4-2文档","link":"#_4-2文档","children":[]}]},{"level":2,"title":"5、其他","slug":"_5、其他","link":"#_5、其他","children":[{"level":3,"title":"5.1 数据备份","slug":"_5-1-数据备份","link":"#_5-1-数据备份","children":[]}]}],"git":{"createdTime":1678868670000,"updatedTime":1711079112000,"contributors":[{"name":"ChenSino","email":"462488588@qq.com","commits":1},{"name":"chenxk","email":"chenxk@sonoscape.net","commits":1}]},"readingTime":{"minutes":3.79,"words":1136},"filePathRelative":"other/training/UserService.md","localizedDate":"2023年3月14日","excerpt":"<h2>1、用服中控</h2>\\n<h3>1.1 源码</h3>\\n<blockquote>\\n<p><strong>仓库有权限，访问需要事先申请帐号权限</strong></p>\\n</blockquote>\\n<table>\\n<thead>\\n<tr>\\n<th>项目</th>\\n<th>代码地址</th>\\n<th>备注</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>web前端</td>\\n<td>http://gitlab.sonoscape.com/general_software/web/aftermarket/central_control_system_front.git</td>\\n<td></td>\\n</tr>\\n<tr>\\n<td>开立GO工程师版小程序</td>\\n<td>http://gitlab.sonoscape.com/general_software/web/aftermarket/mina-ccm.git</td>\\n<td></td>\\n</tr>\\n<tr>\\n<td>开立GO（医生端）</td>\\n<td>http://gitlab.sonoscape.com/general_software/web/aftermarket/wechat-hospital.git</td>\\n<td></td>\\n</tr>\\n<tr>\\n<td>后端</td>\\n<td>http://gitlab.sonoscape.com/general_software/web/aftermarket/central_control_system_back.git</td>\\n<td></td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}');export{p as comp,b as data};
