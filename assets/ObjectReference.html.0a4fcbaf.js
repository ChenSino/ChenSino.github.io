import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as a,e}from"./app.3bf77351.js";const p={},t=e(`<h2 id="_1\u3001\u5F3A\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5F3A\u5F15\u7528" aria-hidden="true">#</a> 1\u3001\u5F3A\u5F15\u7528</h2><pre><code>StrongReference\uFF0Cjava\u4E2D\u9ED8\u8BA4\u7684\u5F15\u7528\u7C7B\u578B\u90FD\u662F\u5F3A\u5F15\u7528\uFF0C\u6BD4\u5982\`Objectg obj = new Object()\`\uFF0C\u8FD9\u4E2Aobj\u5C31\u662F\u5F3A\u5F15\u7528\u3002\u5F3A\u5F15\u7528\u7684\u7279\u6027\u662F\u53EA\u8981\u5F15\u7528\u5B58\u5728\uFF0C\u88AB\u5F15\u7528\u7684\u5BF9\u8C61\u5C31\u4E0D\u4F1A\u88AB\u5783\u573E\u56DE\u6536\u5668\u56DE\u6536\uFF0C\u8FD9\u4E2A\u6BD4\u8F83\u7B80\u5355\uFF0C\u4E0D\u505A\u6D4B\u8BD5\u3002
</code></pre><h2 id="_2\u3001\u8F6F\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u8F6F\u5F15\u7528" aria-hidden="true">#</a> 2\u3001\u8F6F\u5F15\u7528</h2><p>SoftReference\uFF0C\u8F6F\u5F15\u7528\u4EE3\u7801\u6BD4\u8F83\u7B80\u5355\uFF0C\u76F4\u63A5\u8C03\u7528\u5176\u6784\u9020\u51FD\u6570\u5373\u53EF\u6784\u9020\u4E00\u4E2A\u8F6F\u5F15\u7528\u5BF9\u8C61\u3002\u8F6F\u5F15\u7528\u7684\u7279\u6027\u662F\u53EA\u8981\u865A\u62DF\u673A\u5185\u5B58\u591F\u7528\uFF0C\u5219\u8FD9\u4E2A\u5BF9\u8C61\u4F1A \u4E00\u76F4\u5B58\u5728\uFF0C\u4E0D\u4F1A\u88AB\u5783\u573E\u56DE\u6536\u5668\u56DE\u6536\uFF0C\u5F53\u5185\u5B58\u4E0D\u591F\u65F6\u4F1A\u89E6\u53D1\u5783\u573E\u56DE\u6536\uFF0C\u5F53\u56DE\u6536\u540E\u5185\u5B58\u591F\u7528\u5219\u4E0D\u4F1A\u56DE\u6536\u8F6F\u5F15\u7528\u7684\u5BF9\u8C61\uFF0C\u5F53\u6267\u884C\u4E86\u4E00\u6B21\u56DE\u6536\u540E\u5185\u5B58\u4F9D\u7136\u4E0D\u591F\u624D\u4F1A\u8003\u8651\u56DE\u6536\u8F6F\u5F15\u7528\u7684\u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * \u5806\u5185\u5B58\u5206\u914D30m,\u9ED8\u8BA4\u60C5\u51B5\u8001\u5E74\u4EE3\u548C\u65B0\u751F\u4EE32:1,eden\u548Csurvivor\u662F8:1,\u56E0\u6B64\u8001\u5E74\u4EE3\u662F
     * 20m,\u65B0\u751F\u4EE310m\uFF0C\u5176\u4E2Deden\u662F8m,suvivor\u662F1m,\u56E0\u6B64\u65B0\u751F\u4EE3\u603B\u51718+1=9m,\u8FD8\u67091m\u662F\u6D6A* \u8D39\u7684
     * -XX:+PrintGCDetails -Xmx30m -Xms30m -Xmn10m
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u5EFA\u7ACB\u4E00\u4E2A5m\u7684\u5BF9\u8C61\uFF0C\u5927\u5BF9\u8C61\u76F4\u63A5\u8FDB\u5165\u8001\u5E74\u4EE3</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> DATA_5M <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">SoftReference</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> softReference <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>DATA_5M<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DATA_5M <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u4E0B\u65E5\u5FD7\u53EF\u4EE5\u770B\u5230\u6700\u7EC8\u8001\u5E74\u4EE3\u670926%\u7684\u5185\u5B58\u5360\u7528\uFF0C\u5DEE\u4E0D\u591A\u521A\u597D5m,\u5C31\u662F\u5927\u5BF9\u8C61\uFF0C\u8BF4\u660E\u5F53\u5185\u5B58\u8DB3\u591F\u65F6\uFF0C\u8F6F\u4EF6\u7528\u7684\u5BF9\u8C61\u4E0D\u4F1A\u88AB\u56DE\u6536\u3002 <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230131112235.png" alt="20230131112235" loading="lazy"></p><p>\u7EE7\u7EED\u6D4B\u8BD5\uFF0C\u5F53\u5185\u5B58\u4E0D\u591F\u65F6\uFF0C\u8F6F\u5F15\u7528\u5BF9\u8C61\u4F1A\u88AB\u56DE\u6536\u6389</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>   <span class="token doc-comment comment">/**
     * -XX:+PrintGCDetails -Xmx30m -Xms30m -Xmn10m
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u5EFA\u7ACB\u4E00\u4E2A5m\u7684\u5BF9\u8C61\uFF0C\u5927\u5BF9\u8C61\u76F4\u63A5\u8FDB\u5165\u8001\u5E74\u4EE3</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> DATA_5M <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">SoftReference</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> softReference <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>DATA_5M<span class="token punctuation">)</span><span class="token punctuation">;</span>
        DATA_5M <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//\u518D\u521B\u5EFA\u4E00\u4E2A\u5927\u5BF9\u8C61\uFF0C\u8BA9\u8001\u5E74\u4EE3\u5185\u5B58\u4E0D\u591F\u5BB9\u7EB3\u6B64\u5BF9\u8C61\u4ECE\u800C\u89E6\u53D1\u5783\u573E\u56DE\u6536</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> DATA_15M <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">15</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u56FE\u53EF\u4EE5\u6E05\u6670\u770B\u5230\uFF0C\u6700\u7EC8\u8001\u5E74\u4EE3\u670975%\u5360\u7528\uFF0C\u5DEE\u4E0D\u591A\u521A\u597D15m,\u5C31\u662F\u540E\u6765\u521B\u5EFA\u7684\u5927\u5BF9\u8C61\uFF0C\u8BF4\u660E\u4E4B\u524D\u90A3\u4E2A\u88AB\u56DE\u6536\u4E86 <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230131112554.png" alt="20230131112554" loading="lazy"></p><h2 id="_3\u3001\u5F31\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5F31\u5F15\u7528" aria-hidden="true">#</a> 3\u3001\u5F31\u5F15\u7528</h2><p>WeakReference,\u4E0B\u6B21\u5783\u573E\u56DE\u6536\u65F6\uFF0C\u5F31\u5F15\u7528\u7684\u5BF9\u8C61\u4E00\u5B9A\u4F1A\u88AB\u56DE\u6536</p><h2 id="_4\u3001\u865A\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u865A\u5F15\u7528" aria-hidden="true">#</a> 4\u3001\u865A\u5F15\u7528</h2>`,12),o=[t];function c(l,i){return s(),a("div",null,o)}var k=n(p,[["render",c],["__file","ObjectReference.html.vue"]]);export{k as default};
