import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";import{o as e,c as i,e as t}from"./app.59cfc4c8.js";const o={},n=t('<h2 id="_1\u3001\u65F6\u5E8F\u56FE" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u65F6\u5E8F\u56FE" aria-hidden="true">#</a> 1\u3001\u65F6\u5E8F\u56FE</h2><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/oauth.drawio.png" alt="\u65F6\u5E8F\u56FE" loading="lazy"></p><h2 id="_2\u3001\u6D41\u7A0B\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6D41\u7A0B\u89E3\u6790" aria-hidden="true">#</a> 2\u3001\u6D41\u7A0B\u89E3\u6790</h2><blockquote><p>\u672C\u6D41\u7A0B\u662F\u4EE5\u4F7F\u7528Ruoyi\u5BF9\u63A5Pig\u6388\u6743\u4E2D\u5FC3\u4E3A\u4F8B\uFF0C\u8FDB\u884C\u8BB2\u89E3\uFF0C\u5176\u4ED6\u7F51\u7AD9\u7684\u7684oauth\u7684\u539F\u7406\u90FD\u548C\u8FD9\u4E2A\u4E00\u6837\uFF0C\u6240\u4EE5\u53EA\u8981\u628A\u8FD9\u4E2A\u6D41\u7A0B\u641E\u61C2\u4E86\u5373\u53EF\uFF0C\u63A5\u4E0B\u6765\u5C31\u6309\u7167\u771F\u5B9E\u7684\u6D41\u7A0B\u8FDB\u884C\u9010\u6B65\u89E3\u6790\u3002</p></blockquote><h3 id="_2-1-\u7B2C1\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-1-\u7B2C1\u6B65" aria-hidden="true">#</a> 2.1 \u7B2C1\u6B65</h3><p>\u7528\u6237\u8FD8\u672A\u767B\u5F55\uFF0C\u8BBF\u95EEruoyi\u524D\u7AEF\uFF0Cruoyi\u4F1A\u81EA\u52A8\u8DF3\u8F6C\u5230\u81EA\u5DF1\u7684\u767B\u5F55\u9996\u9875<br><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104105625.png" alt="20230104105625" loading="lazy"></p><h3 id="_2-2-\u7B2C2\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-2-\u7B2C2\u6B65" aria-hidden="true">#</a> 2.2 \u7B2C2\u6B65</h3><p>\u70B9\u51FBSSO\u767B\u5F55\u4F1A\u8BBF\u95EE\u5982\u4E0B\u8FD9\u6837\u5B50\u7684\u4E00\u4E2Aurl,\u7533\u8BF7\u6388\u6743,(127.0.0.1:3000\u5C31\u662F\u6388\u6743\u670D\u52A1\u5668) <code>https://127.0.0.1:3000/oauth/authorize?client_id=ruyi&amp;response_type=code&amp;scope=server&amp;redirect_uri=http://127.0.0.1:1024/sso&amp;TENANT-ID=1</code>\uFF0C\u5F53\u6388\u6743\u670D\u52A1\u6536\u5230\u8FD9\u4E2A\u8BF7\u6C42\u65F6\u4F1A\u53D1\u73B0\u7528\u6237\u8FD8\u672A\u767B\u5F55\u6388\u6743\u670D\u52A1\u5668\uFF0C\u4F1A\u91CD\u5B9A\u5411\u5230\u6388\u6743\u670D\u52A1\u5668\u7684\u767B\u5F55\u9875\u9762<code>http://127.0.0.1:3000/token/login</code>\uFF0C\u5927\u6982\u5C31\u662F\u4E0B\u9762\u8FD9\u6837</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104105039.png" alt="20230104105039" loading="lazy"></p><h3 id="_2-3-\u7B2C3\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-3-\u7B2C3\u6B65" aria-hidden="true">#</a> 2.3 \u7B2C3\u6B65</h3><p>\u7528\u6237\u8F93\u5165\u5E10\u53F7\u5BC6\u7801\u63D0\u4EA4\u540Epig\u6388\u6743\u4E2D\u5FC3\u4F1A\u6821\u9A8Cruoyi\u5BA2\u6237\u7AEF\u662F\u5426\u5408\u6CD5\uFF0C\u5C31\u662F\u9A8C\u8BC1\u4F60\u8FD9\u4E2A\u5BA2\u6237\u7AEF\u662F\u5426\u5728pigx\u4E2D\u5DF2\u7ECF\u6CE8\u518C\uFF0C\u9A8C\u8BC1\u901A\u8FC7\u518D\u9A8C\u8BC1\u4F60\u8F93\u5165\u7684\u7528\u6237\u540D\u5BC6\u7801\u662F\u5426\u6B63\u786E\uFF0C\u9A8C\u8BC1\u901A\u8FC7\u540E\u518D\u751F\u6210\u4E00\u4E2A\u6388\u6743\u9875\u9762\uFF0C\u5C31\u662F\u548C\u5E73\u65F6\u6211\u4EEC\u5FAE\u4FE1\u6388\u6743\u7ED9\u7B2C\u4E09\u65B9\u5C0F\u7A0B\u5E8F\u5F39\u51FA\u4E00\u4E2A\u8BA9\u4F60\u786E\u8BA4\u6388\u6743\u7684\u90A3\u4E2A\u754C\u9762\u5DEE\u4E0D\u591A\uFF0C\u53C2\u8003\u4E0B\u4E00\u6B65</p><h3 id="_2-4-\u7B2C4\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-4-\u7B2C4\u6B65" aria-hidden="true">#</a> 2.4 \u7B2C4\u6B65</h3><p>\u7528\u6237\u70B9\u51FB\u6388\u6743\uFF0C <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104105954.png" alt="20230104105954" loading="lazy"></p><h3 id="_2-5-\u7B2C5\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-5-\u7B2C5\u6B65" aria-hidden="true">#</a> 2.5 \u7B2C5\u6B65</h3><p>pig\u6388\u6743\u4E2D\u5FC3\u751F\u6210\u6388\u6743\u7801</p><h3 id="_2-6-\u7B2C6\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-6-\u7B2C6\u6B65" aria-hidden="true">#</a> 2.6 \u7B2C6\u6B65</h3><p>pig\u4EA7\u751F\u6388\u6743\u7801\u540E\uFF0C\u4F1A\u5E26\u7740\u8FD9\u4E2A\u6388\u6743\u7801\u91CD\u5B9A\u5411\u5230\u6CE8\u518C\u5BA2\u6237\u7AEF\u65F6\u586B\u7684\u90A3\u4E2A\u5730\u5740\uFF0C\u8FD9\u91CC\u5C31\u662F<code>http://127.0.0.1:1024/sso?code=U1wLD7</code> \u8FD9\u4E2A\u5730\u5740\u662F\u5728\u6570\u636E\u5E93\u6CE8\u518C\u597D\u7684\uFF0C\u5B83\u662Fruoyi\u524D\u7AEF\u7684\u4E00\u4E2A\u9875\u9762\uFF0C\u5E76\u4E0D\u662F\u540E\u7AEF\u63A5\u53E3</p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104110557.png" alt="20230104110557" loading="lazy"></p><p><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104110449.png" alt="20230104110449" loading="lazy"></p><h3 id="_2-7-\u7B2C7\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-7-\u7B2C7\u6B65" aria-hidden="true">#</a> 2.7 \u7B2C7\u6B65</h3><p>ruoyi\u524D\u7AEF\u6784\u9020\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u5E76\u4E14\u643A\u5E26code\u8BF7\u6C42ruoyi\u540E\u7AEF\u63A5\u53E3\uFF0C <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104110909.png" alt="20230104110909" loading="lazy"><img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104110921.png" alt="20230104110921" loading="lazy"></p><h3 id="_2-8-\u7B2C8\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-8-\u7B2C8\u6B65" aria-hidden="true">#</a> 2.8 \u7B2C8\u6B65</h3><p>ruoyi\u540E\u7AEF\u62FF\u5230code,\u53D1\u9001post\u8BF7\u6C42\u5230<code>http://127.0.0.1:3000/oauth/token</code>\u83B7\u53D6token,\u6CE8\u610F\u8FD9\u662F\u4E2Aoauth\u7684\u9ED8\u8BA4\u7AEF\u70B9\uFF0C\u4E0D\u662F\u7528\u6237\u5199\u7684\uFF0C\u5728TokenEndPoint\u7C7B\u4E2D <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104111117.png" alt="20230104111117" loading="lazy"></p><h3 id="_2-9-\u7B2C9\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-9-\u7B2C9\u6B65" aria-hidden="true">#</a> 2.9 \u7B2C9\u6B65</h3><p>pig\u6388\u6743\u4E2D\u5FC3\u751F\u6210token,\u8FD9\u91CC\u751F\u6210token\u7684\u903B\u8F91\u53EF\u4EE5\u81EA\u5B9A\u4E49\u5B9E\u73B0\uFF0C\u5177\u4F53\u7684\u8BF7\u53C2\u8003pig\u7684\u6E90\u7801TokenService\u7C7B <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104111420.png" alt="20230104111420" loading="lazy"></p><h3 id="_2-10-\u7B2C10\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-10-\u7B2C10\u6B65" aria-hidden="true">#</a> 2.10 \u7B2C10\u6B65</h3><p>pig\u6388\u6743\u4E2D\u5FC3\u751F\u6210\u7684token\u8FD4\u56DE\u5230ruoyi\u540E\u7AEF\uFF0Cruoyi\u540E\u7AEF\u62FF\u5230token <img src="https://afatpig.oss-cn-chengdu.aliyuncs.com/blog/20230104111504.png" alt="20230104111504" loading="lazy"></p><h3 id="_2-11-\u7B2C11\u6B65" tabindex="-1"><a class="header-anchor" href="#_2-11-\u7B2C11\u6B65" aria-hidden="true">#</a> 2.11 \u7B2C11\u6B65</h3><p>\u6709\u4E86token\u540E\u9762\u7684\u5C31\u4E0D\u518D\u8D58\u8FF0\uFF0C\u53EF\u4EE5\u62FFtoken\u8BBF\u95EE\u8D44\u6E90\u4E86\uFF0C\u8FD9\u91CC\u5176\u5B9E\u4EC5\u4EC5\u7528\u4E86oauth2\u7684\u7279\u6027\u6765\u505A\u4E86\u4E00\u4E2Asso\u5355\u70B9\u767B\u5F55\uFF0C\u5E76\u6CA1\u6709\u7528\u5230oauth2\u7684\u6838\u5FC3\u6765\u8FDB\u884C\u8D44\u6E90\u670D\u52A1\u5668\u7684\u8BBF\u95EE\uFF0Coauth2\u7684\u6838\u5FC3\u5176\u5B9E\u662F\u7528\u6765\u65E0\u9700\u5E10\u53F7\u5BC6\u7801\u5373\u53EF\u8BBF\u95EE\u8D44\u6E90\u670D\u52A1\u5668\u7684\u8D44\u6E90\u3002</p>',29),h=[n];function c(r,d){return e(),i("div",null,h)}var l=a(o,[["render",c],["__file","OAuth2Authentication.html.vue"]]);export{l as default};
