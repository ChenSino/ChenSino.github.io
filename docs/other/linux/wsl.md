---
title: windows子系统wsl
date: 2022/7/22
author: chenkun
sidebar: 'auto'
publish: true
keys:
categories:
tags:
---

# 一、wsl安装
# 二、wsl使用
## 2.1 更换国内镜像源
## 2.2 从windows进入wsl
在我的电脑地址栏直接输入：\\wsl$ 即可进入wsl文件管理系统。
> C:\Users\xiaoPeng\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc\LocalState\rootfs

## 2.3 wsl域名解析慢的问题
> 域名解析慢会导致apt命令无法在线安装软件，更新等

查看`/etc/resolv.conf`发现nameserver是默认的172.x.x.x，即使你修改了，重启终端他也会被还原，此文件的注释也说的很明白了，如下
```bash
# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 172.27.96.1
```
解决方法：
1. 新建`/etc/wsl.conf`文件，加入一下内容
```bash
[network]
generateResolvConf = false
```
2. 关闭wsl，管理员方式打开powershell执行`wsl --shutdown`
3. 重新进入wsl，删除`sudo rm /etc/resolv.conf`，注意是resolv.conf
4. 新建`/etc/resolv.conf`，添加自定义nameserver
   ```bash
    $ cat /etc/resolv.conf 
    nameserver 10.10.102.8
    ```