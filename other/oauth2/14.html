<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://ChenSino.github.io/other/oauth2/14.html"><meta property="og:site_name" content="ChenSino"><meta property="og:title" content="14 | 查漏补缺：OAuth 2.0 常见问题答疑"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-11-08T08:57:50.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="ChenSino"><meta property="article:published_time" content="2022-11-08T00:00:00.000Z"><meta property="article:modified_time" content="2022-11-08T08:57:50.000Z"><title>14 | 查漏补缺：OAuth 2.0 常见问题答疑 | ChenSino</title><meta name="description" content="ChenSino's Blog">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.86a476e2.css">
    <link rel="modulepreload" href="/assets/app.2b932083.js"><link rel="modulepreload" href="/assets/14.html.eff537f9.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/14.html.ca2cd78a.js"><link rel="prefetch" href="/assets/index.html.eb90afb9.js"><link rel="prefetch" href="/assets/home.html.51f3137e.js"><link rel="prefetch" href="/assets/slide.html.e2726971.js"><link rel="prefetch" href="/assets/index.html.3fa9fdcb.js"><link rel="prefetch" href="/assets/index.html.a1989654.js"><link rel="prefetch" href="/assets/disable.html.32f338f9.js"><link rel="prefetch" href="/assets/encrypt.html.28025c3f.js"><link rel="prefetch" href="/assets/markdown.html.9cda2fdb.js"><link rel="prefetch" href="/assets/page.html.287e8190.js"><link rel="prefetch" href="/assets/index.html.ab7ad38e.js"><link rel="prefetch" href="/assets/index.html.1f66a3ed.js"><link rel="prefetch" href="/assets/index.html.d8dc379b.js"><link rel="prefetch" href="/assets/aboutAsync.html.78675636.js"><link rel="prefetch" href="/assets/aboutEvent.html.b61e75ee.js"><link rel="prefetch" href="/assets/aboutThis.html.50c9984d.js"><link rel="prefetch" href="/assets/asyncError.html.57765256.js"><link rel="prefetch" href="/assets/crossDomain.html.3caa4e63.js"><link rel="prefetch" href="/assets/crossDomain2.html.28989220.js"><link rel="prefetch" href="/assets/lazyLoad.html.283f255e.js"><link rel="prefetch" href="/assets/throttle.html.b643f008.js"><link rel="prefetch" href="/assets/index.html.9df569da.js"><link rel="prefetch" href="/assets/useModule.html.fc9051e4.js"><link rel="prefetch" href="/assets/useNpm.html.ee8d74f3.js"><link rel="prefetch" href="/assets/usePnpm.html.f59424fb.js"><link rel="prefetch" href="/assets/useYarn.html.c4359130.js"><link rel="prefetch" href="/assets/index.html.1b0d3789.js"><link rel="prefetch" href="/assets/action-usage.html.12dee9ac.js"><link rel="prefetch" href="/assets/axios.html.2ece8405.js"><link rel="prefetch" href="/assets/basic-usage.html.3429501b.js"><link rel="prefetch" href="/assets/fanType.html.0bd8db77.js"><link rel="prefetch" href="/assets/tsAndvue3.html.f89a7e52.js"><link rel="prefetch" href="/assets/index.html.38d2dc09.js"><link rel="prefetch" href="/assets/index.html.73ae33cb.js"><link rel="prefetch" href="/assets/eventBus.html.2c39fb34.js"><link rel="prefetch" href="/assets/vue-Direactive.html.7e12216b.js"><link rel="prefetch" href="/assets/vue-authority.html.a32a03b2.js"><link rel="prefetch" href="/assets/vue-in-action.html.f08620b0.js"><link rel="prefetch" href="/assets/vue-nextTick.html.ee4b1e38.js"><link rel="prefetch" href="/assets/vue-pic.html.c18320d7.js"><link rel="prefetch" href="/assets/vue-router1.html.5730398e.js"><link rel="prefetch" href="/assets/vue-router2.html.8e42cdd5.js"><link rel="prefetch" href="/assets/vue3LifeTime.html.517964a9.js"><link rel="prefetch" href="/assets/vueExtend.html.710f1c23.js"><link rel="prefetch" href="/assets/Arthas.html.6740b184.js"><link rel="prefetch" href="/assets/Collection.html.ea0788f5.js"><link rel="prefetch" href="/assets/Future.html.032c17b1.js"><link rel="prefetch" href="/assets/IO-Model.html.ac3d4d3f.js"><link rel="prefetch" href="/assets/MysqlMasterSlave.html.1b320c36.js"><link rel="prefetch" href="/assets/ParentDelegationClassLoader.html.496239f8.js"><link rel="prefetch" href="/assets/ProxyInJava.html.95a93dca.js"><link rel="prefetch" href="/assets/index.html.725afee8.js"><link rel="prefetch" href="/assets/ThreadLocal.html.06147b84.js"><link rel="prefetch" href="/assets/ThreadPool.html.56b46bd3.js"><link rel="prefetch" href="/assets/io.html.9e42f02d.js"><link rel="prefetch" href="/assets/ConstantPool.html.10554b35.js"><link rel="prefetch" href="/assets/CustomLRU.html.6111bc57.js"><link rel="prefetch" href="/assets/IntegerConstantPool.html.59514860.js"><link rel="prefetch" href="/assets/index.html.808059f6.js"><link rel="prefetch" href="/assets/Serialization.html.05e917e3.js"><link rel="prefetch" href="/assets/String.html.569e7e9d.js"><link rel="prefetch" href="/assets/NewObject.html.00e67836.js"><link rel="prefetch" href="/assets/index.html.944d115d.js"><link rel="prefetch" href="/assets/SetObjectNull.html.2364cd39.js"><link rel="prefetch" href="/assets/StringAdd.html.3f7278a3.js"><link rel="prefetch" href="/assets/JdkVersion.html.36f18ca1.js"><link rel="prefetch" href="/assets/index.html.6117875d.js"><link rel="prefetch" href="/assets/index.html.c1b8d780.js"><link rel="prefetch" href="/assets/ebooks.html.a0b118f1.js"><link rel="prefetch" href="/assets/CPUOverLoad.html.1b1dff68.js"><link rel="prefetch" href="/assets/MysqlNote.html.1fd34005.js"><link rel="prefetch" href="/assets/MysqlRemoteConnect.html.554582e3.js"><link rel="prefetch" href="/assets/index.html.8650b397.js"><link rel="prefetch" href="/assets/SQLOptimization.html.eef97b12.js"><link rel="prefetch" href="/assets/DistributeLock.html.cc3d592d.js"><link rel="prefetch" href="/assets/Nacos.html.c4e30cd1.js"><link rel="prefetch" href="/assets/index.html.0750e5a3.js"><link rel="prefetch" href="/assets/Docker.html.cb1c4991.js"><link rel="prefetch" href="/assets/DockerCompose.html.efe4c577.js"><link rel="prefetch" href="/assets/DockerFile.html.0e0ebcda.js"><link rel="prefetch" href="/assets/ServiceInstall.html.4628ba17.js"><link rel="prefetch" href="/assets/2022-04-12.html.9b1dcec9.js"><link rel="prefetch" href="/assets/BTree.html.3683ea27.js"><link rel="prefetch" href="/assets/CDN.html.cd62a29d.js"><link rel="prefetch" href="/assets/ChromeDevTools.html.c7e68b1c.js"><link rel="prefetch" href="/assets/CloudService.html.afa51c9d.js"><link rel="prefetch" href="/assets/DeployGithubPage.html.24d3f4b3.js"><link rel="prefetch" href="/assets/GreatWallProxy.html.cc8a5b58.js"><link rel="prefetch" href="/assets/Jenkins.html.0b961aba.js"><link rel="prefetch" href="/assets/index.html.8e6b167c.js"><link rel="prefetch" href="/assets/Service.html.41dd7bfb.js"><link rel="prefetch" href="/assets/TyporaPicgo.html.1ffb0b6b.js"><link rel="prefetch" href="/assets/GitCommands.html.bbaacde6.js"><link rel="prefetch" href="/assets/index.html.30a6fe53.js"><link rel="prefetch" href="/assets/branch01.html.4eb581ff.js"><link rel="prefetch" href="/assets/branch02.html.829ba24b.js"><link rel="prefetch" href="/assets/fatal.html.e1aeb46e.js"><link rel="prefetch" href="/assets/gitConflict.html.f29184c7.js"><link rel="prefetch" href="/assets/gitRebase.html.703ad8cc.js"><link rel="prefetch" href="/assets/gitwork.html.97b66d90.js"><link rel="prefetch" href="/assets/mergeBranch.html.9dd04193.js"><link rel="prefetch" href="/assets/proxy.html.9134c710.js"><link rel="prefetch" href="/assets/rebaseAndMerge.html.6aff3b3a.js"><link rel="prefetch" href="/assets/reset.html.9cfe272e.js"><link rel="prefetch" href="/assets/stash.html.f5b317b3.js"><link rel="prefetch" href="/assets/CentOS.html.7997886f.js"><link rel="prefetch" href="/assets/CommonUsedCMD.html.81db1c0d.js"><link rel="prefetch" href="/assets/Curl.html.b9844cd1.js"><link rel="prefetch" href="/assets/InstallMysqlWithDocker.html.aafc2ebb.js"><link rel="prefetch" href="/assets/Manjaro.html.2ef1716f.js"><link rel="prefetch" href="/assets/MultiNetworkCard.html.849b1447.js"><link rel="prefetch" href="/assets/index.html.76a40737.js"><link rel="prefetch" href="/assets/Samba.html.3c35f682.js"><link rel="prefetch" href="/assets/TcpDump.html.02531cf3.js"><link rel="prefetch" href="/assets/Wifi.html.04b92e6e.js"><link rel="prefetch" href="/assets/wsl.html.93b2dbd5.js"><link rel="prefetch" href="/assets/index.html.5bcf4e1f.js"><link rel="prefetch" href="/assets/01.html.3b340fc6.js"><link rel="prefetch" href="/assets/02.html.ebb1cfbe.js"><link rel="prefetch" href="/assets/03.html.b89939fd.js"><link rel="prefetch" href="/assets/04.html.ef3bdfcf.js"><link rel="prefetch" href="/assets/05.html.4daa2f85.js"><link rel="prefetch" href="/assets/06.html.a91de263.js"><link rel="prefetch" href="/assets/07.html.11c89e05.js"><link rel="prefetch" href="/assets/08.html.459b064c.js"><link rel="prefetch" href="/assets/09.html.68b8f85c.js"><link rel="prefetch" href="/assets/10.html.6baa0130.js"><link rel="prefetch" href="/assets/11.html.8f55e63b.js"><link rel="prefetch" href="/assets/12.html.353ec68d.js"><link rel="prefetch" href="/assets/13.html.1ce80cd7.js"><link rel="prefetch" href="/assets/index.html.8f05b278.js"><link rel="prefetch" href="/assets/index.html.9d04648a.js"><link rel="prefetch" href="/assets/Idea.html.018ea746.js"><link rel="prefetch" href="/assets/index.html.b37654ac.js"><link rel="prefetch" href="/assets/SoftWare.html.2f11e6c7.js"><link rel="prefetch" href="/assets/VsCode.html.7d59297e.js"><link rel="prefetch" href="/assets/CloudServiceTraining.html.24b39d00.js"><link rel="prefetch" href="/assets/index.html.b8fa3223.js"><link rel="prefetch" href="/assets/SSO.html.b237c4e6.js"><link rel="prefetch" href="/assets/draw.html.661fb9c5.js"><link rel="prefetch" href="/assets/BuildWebProject.html.767ab926.js"><link rel="prefetch" href="/assets/Cookie.html.71be53f2.js"><link rel="prefetch" href="/assets/Http.html.1266f512.js"><link rel="prefetch" href="/assets/Jwt.html.a3370676.js"><link rel="prefetch" href="/assets/index.html.793b61b3.js"><link rel="prefetch" href="/assets/Restful.html.7d47a28d.js"><link rel="prefetch" href="/assets/MybatisPlusDataSource.html.fd1a1b63.js"><link rel="prefetch" href="/assets/index.html.cd182745.js"><link rel="prefetch" href="/assets/mybatis.html.fa3f6c89.js"><link rel="prefetch" href="/assets/Authorization.html.d0b65fe2.js"><link rel="prefetch" href="/assets/CustomAuthenticationProvider.html.eff8fa9c.js"><link rel="prefetch" href="/assets/CustomLoginPage.html.a6ac8a88.js"><link rel="prefetch" href="/assets/CustomTokenAuthentication.html.67213c0c.js"><link rel="prefetch" href="/assets/index.html.e60544ac.js"><link rel="prefetch" href="/assets/SecurityFilterChain.html.b45afe8c.js"><link rel="prefetch" href="/assets/note.html.4060969f.js"><link rel="prefetch" href="/assets/Annotation.html.94720740.js"><link rel="prefetch" href="/assets/BeanPostProcessor.html.d21e0b0a.js"><link rel="prefetch" href="/assets/CircularDependency.html.4f924b7d.js"><link rel="prefetch" href="/assets/DesignPatternInSpring.html.7ef42a4c.js"><link rel="prefetch" href="/assets/OncePerRequestFilter.html.de5a7d1a.js"><link rel="prefetch" href="/assets/index.html.6123d20c.js"><link rel="prefetch" href="/assets/SpringAOP.html.a3b69f43.js"><link rel="prefetch" href="/assets/SpringCache.html.32cbdda3.js"><link rel="prefetch" href="/assets/SpringExtensionPoint.html.c317b876.js"><link rel="prefetch" href="/assets/SpringIOC.html.69c8f2d3.js"><link rel="prefetch" href="/assets/AOPLog.html.8da1886a.js"><link rel="prefetch" href="/assets/index.html.ef15cbb0.js"><link rel="prefetch" href="/assets/SpringBootAutoConfiguration.html.060bb9db.js"><link rel="prefetch" href="/assets/index.html.fa98df2d.js"><link rel="prefetch" href="/assets/wrapper.html.649fd6ed.js"><link rel="prefetch" href="/assets/index.html.84f0ffdb.js"><link rel="prefetch" href="/assets/TooManyOpenFiles.html.b29880e5.js"><link rel="prefetch" href="/assets/index.html.e61088a4.js"><link rel="prefetch" href="/assets/import.html.8adc0a90.js"><link rel="prefetch" href="/assets/multiModule.html.c557b78e.js"><link rel="prefetch" href="/assets/problem.html.8e5ad5c2.js"><link rel="prefetch" href="/assets/404.html.43f9aa87.js"><link rel="prefetch" href="/assets/index.html.36e47a4f.js"><link rel="prefetch" href="/assets/index.html.17a7079f.js"><link rel="prefetch" href="/assets/index.html.3b8616ee.js"><link rel="prefetch" href="/assets/index.html.b7789136.js"><link rel="prefetch" href="/assets/index.html.f6abe397.js"><link rel="prefetch" href="/assets/index.html.d907a16f.js"><link rel="prefetch" href="/assets/index.html.0e440160.js"><link rel="prefetch" href="/assets/index.html.83183236.js"><link rel="prefetch" href="/assets/index.html.ec882b7a.js"><link rel="prefetch" href="/assets/index.html.59dfd475.js"><link rel="prefetch" href="/assets/index.html.f21b9cb6.js"><link rel="prefetch" href="/assets/index.html.cdad536b.js"><link rel="prefetch" href="/assets/index.html.a803ed4a.js"><link rel="prefetch" href="/assets/index.html.30666b38.js"><link rel="prefetch" href="/assets/index.html.c29a2b33.js"><link rel="prefetch" href="/assets/index.html.102f6d4e.js"><link rel="prefetch" href="/assets/index.html.7710c198.js"><link rel="prefetch" href="/assets/index.html.0e9a147c.js"><link rel="prefetch" href="/assets/index.html.7038f3e3.js"><link rel="prefetch" href="/assets/index.html.0b0228df.js"><link rel="prefetch" href="/assets/index.html.e150319f.js"><link rel="prefetch" href="/assets/index.html.e2c3d190.js"><link rel="prefetch" href="/assets/index.html.528f1003.js"><link rel="prefetch" href="/assets/index.html.d42f2ecf.js"><link rel="prefetch" href="/assets/index.html.7c913d8b.js"><link rel="prefetch" href="/assets/index.html.2e89c4a7.js"><link rel="prefetch" href="/assets/index.html.1fffc11b.js"><link rel="prefetch" href="/assets/index.html.bf4aadfa.js"><link rel="prefetch" href="/assets/index.html.7fbb5828.js"><link rel="prefetch" href="/assets/index.html.edbe2c55.js"><link rel="prefetch" href="/assets/index.html.c1be3da5.js"><link rel="prefetch" href="/assets/index.html.033fbe0e.js"><link rel="prefetch" href="/assets/index.html.13dd2532.js"><link rel="prefetch" href="/assets/index.html.a1f862ed.js"><link rel="prefetch" href="/assets/index.html.27771046.js"><link rel="prefetch" href="/assets/index.html.40ee2fd2.js"><link rel="prefetch" href="/assets/index.html.3633d329.js"><link rel="prefetch" href="/assets/index.html.e0391c9d.js"><link rel="prefetch" href="/assets/index.html.196cdf80.js"><link rel="prefetch" href="/assets/index.html.ee7ed795.js"><link rel="prefetch" href="/assets/index.html.f26cef3a.js"><link rel="prefetch" href="/assets/index.html.6ab1b01b.js"><link rel="prefetch" href="/assets/index.html.aa71a687.js"><link rel="prefetch" href="/assets/index.html.eff7891b.js"><link rel="prefetch" href="/assets/index.html.e374d463.js"><link rel="prefetch" href="/assets/index.html.965f45d0.js"><link rel="prefetch" href="/assets/index.html.6f95ceed.js"><link rel="prefetch" href="/assets/index.html.8d5e0c75.js"><link rel="prefetch" href="/assets/index.html.56972a0c.js"><link rel="prefetch" href="/assets/index.html.a89e61fe.js"><link rel="prefetch" href="/assets/index.html.223779ab.js"><link rel="prefetch" href="/assets/index.html.36d55232.js"><link rel="prefetch" href="/assets/index.html.445e7fbf.js"><link rel="prefetch" href="/assets/index.html.e8f5a66b.js"><link rel="prefetch" href="/assets/index.html.f3e52833.js"><link rel="prefetch" href="/assets/index.html.8d91392a.js"><link rel="prefetch" href="/assets/index.html.3f0687c8.js"><link rel="prefetch" href="/assets/index.html.2c44bd96.js"><link rel="prefetch" href="/assets/home.html.c5c38a32.js"><link rel="prefetch" href="/assets/slide.html.f294b01e.js"><link rel="prefetch" href="/assets/index.html.7be75d4b.js"><link rel="prefetch" href="/assets/index.html.c3432a85.js"><link rel="prefetch" href="/assets/disable.html.4fb03fc8.js"><link rel="prefetch" href="/assets/encrypt.html.6f4b37ed.js"><link rel="prefetch" href="/assets/markdown.html.dcf2c62b.js"><link rel="prefetch" href="/assets/page.html.a7c9fe13.js"><link rel="prefetch" href="/assets/index.html.d4412202.js"><link rel="prefetch" href="/assets/index.html.ab67428c.js"><link rel="prefetch" href="/assets/index.html.62d79f18.js"><link rel="prefetch" href="/assets/aboutAsync.html.c7e7e217.js"><link rel="prefetch" href="/assets/aboutEvent.html.797bb6c1.js"><link rel="prefetch" href="/assets/aboutThis.html.f2b45042.js"><link rel="prefetch" href="/assets/asyncError.html.dc7e2b27.js"><link rel="prefetch" href="/assets/crossDomain.html.5fa16006.js"><link rel="prefetch" href="/assets/crossDomain2.html.d0cffe6a.js"><link rel="prefetch" href="/assets/lazyLoad.html.2e953d8c.js"><link rel="prefetch" href="/assets/throttle.html.0fa1f55e.js"><link rel="prefetch" href="/assets/index.html.a190e20b.js"><link rel="prefetch" href="/assets/useModule.html.21f564a4.js"><link rel="prefetch" href="/assets/useNpm.html.4ba367a6.js"><link rel="prefetch" href="/assets/usePnpm.html.ca507648.js"><link rel="prefetch" href="/assets/useYarn.html.9f86c221.js"><link rel="prefetch" href="/assets/index.html.48294ab7.js"><link rel="prefetch" href="/assets/action-usage.html.af23cc70.js"><link rel="prefetch" href="/assets/axios.html.133958bf.js"><link rel="prefetch" href="/assets/basic-usage.html.2876ab29.js"><link rel="prefetch" href="/assets/fanType.html.18448d88.js"><link rel="prefetch" href="/assets/tsAndvue3.html.4113130e.js"><link rel="prefetch" href="/assets/index.html.41cd3dce.js"><link rel="prefetch" href="/assets/index.html.9824087e.js"><link rel="prefetch" href="/assets/eventBus.html.2b578b1e.js"><link rel="prefetch" href="/assets/vue-Direactive.html.6d888e33.js"><link rel="prefetch" href="/assets/vue-authority.html.7786115a.js"><link rel="prefetch" href="/assets/vue-in-action.html.d45b9ec5.js"><link rel="prefetch" href="/assets/vue-nextTick.html.74906e23.js"><link rel="prefetch" href="/assets/vue-pic.html.469a5013.js"><link rel="prefetch" href="/assets/vue-router1.html.ed574b6d.js"><link rel="prefetch" href="/assets/vue-router2.html.92b714e8.js"><link rel="prefetch" href="/assets/vue3LifeTime.html.e4f4f582.js"><link rel="prefetch" href="/assets/vueExtend.html.cc5a1180.js"><link rel="prefetch" href="/assets/Arthas.html.c9f6a6a0.js"><link rel="prefetch" href="/assets/Collection.html.01a4794b.js"><link rel="prefetch" href="/assets/Future.html.359d2585.js"><link rel="prefetch" href="/assets/IO-Model.html.362336e8.js"><link rel="prefetch" href="/assets/MysqlMasterSlave.html.93146f01.js"><link rel="prefetch" href="/assets/ParentDelegationClassLoader.html.d79e53a3.js"><link rel="prefetch" href="/assets/ProxyInJava.html.d6378443.js"><link rel="prefetch" href="/assets/index.html.279a9535.js"><link rel="prefetch" href="/assets/ThreadLocal.html.17bcd195.js"><link rel="prefetch" href="/assets/ThreadPool.html.dc6a1ddc.js"><link rel="prefetch" href="/assets/io.html.d328a1d4.js"><link rel="prefetch" href="/assets/ConstantPool.html.e251caf2.js"><link rel="prefetch" href="/assets/CustomLRU.html.df4fbeb8.js"><link rel="prefetch" href="/assets/IntegerConstantPool.html.60392196.js"><link rel="prefetch" href="/assets/index.html.ed251ac4.js"><link rel="prefetch" href="/assets/Serialization.html.6dddc650.js"><link rel="prefetch" href="/assets/String.html.80ce735b.js"><link rel="prefetch" href="/assets/NewObject.html.e614f0d5.js"><link rel="prefetch" href="/assets/index.html.ffb06758.js"><link rel="prefetch" href="/assets/SetObjectNull.html.4d68bbe2.js"><link rel="prefetch" href="/assets/StringAdd.html.9658d62c.js"><link rel="prefetch" href="/assets/JdkVersion.html.2ba88aac.js"><link rel="prefetch" href="/assets/index.html.ea6ffd4f.js"><link rel="prefetch" href="/assets/index.html.a838f64a.js"><link rel="prefetch" href="/assets/ebooks.html.d3484610.js"><link rel="prefetch" href="/assets/CPUOverLoad.html.9c8cbf39.js"><link rel="prefetch" href="/assets/MysqlNote.html.381d7db4.js"><link rel="prefetch" href="/assets/MysqlRemoteConnect.html.f4532ae7.js"><link rel="prefetch" href="/assets/index.html.4dcb3ea6.js"><link rel="prefetch" href="/assets/SQLOptimization.html.67538534.js"><link rel="prefetch" href="/assets/DistributeLock.html.c837fb69.js"><link rel="prefetch" href="/assets/Nacos.html.56230cfd.js"><link rel="prefetch" href="/assets/index.html.0c9f4fa0.js"><link rel="prefetch" href="/assets/Docker.html.21bf6bfb.js"><link rel="prefetch" href="/assets/DockerCompose.html.1b4311b4.js"><link rel="prefetch" href="/assets/DockerFile.html.84f10c0a.js"><link rel="prefetch" href="/assets/ServiceInstall.html.b646bcf2.js"><link rel="prefetch" href="/assets/2022-04-12.html.00734614.js"><link rel="prefetch" href="/assets/BTree.html.2c4fc940.js"><link rel="prefetch" href="/assets/CDN.html.d8602286.js"><link rel="prefetch" href="/assets/ChromeDevTools.html.a266be80.js"><link rel="prefetch" href="/assets/CloudService.html.a6874c0a.js"><link rel="prefetch" href="/assets/DeployGithubPage.html.a0ef0763.js"><link rel="prefetch" href="/assets/GreatWallProxy.html.879a3aaf.js"><link rel="prefetch" href="/assets/Jenkins.html.f996ac96.js"><link rel="prefetch" href="/assets/index.html.b26d9df1.js"><link rel="prefetch" href="/assets/Service.html.029570d9.js"><link rel="prefetch" href="/assets/TyporaPicgo.html.dd595eab.js"><link rel="prefetch" href="/assets/GitCommands.html.1050d7e8.js"><link rel="prefetch" href="/assets/index.html.ed776b8a.js"><link rel="prefetch" href="/assets/branch01.html.26cef855.js"><link rel="prefetch" href="/assets/branch02.html.67f5fdf6.js"><link rel="prefetch" href="/assets/fatal.html.e66b9028.js"><link rel="prefetch" href="/assets/gitConflict.html.a982fe6f.js"><link rel="prefetch" href="/assets/gitRebase.html.5a1bd2fb.js"><link rel="prefetch" href="/assets/gitwork.html.55f7fd83.js"><link rel="prefetch" href="/assets/mergeBranch.html.47c1d507.js"><link rel="prefetch" href="/assets/proxy.html.2651171e.js"><link rel="prefetch" href="/assets/rebaseAndMerge.html.2a35b3ac.js"><link rel="prefetch" href="/assets/reset.html.3d75c7ad.js"><link rel="prefetch" href="/assets/stash.html.3c52e049.js"><link rel="prefetch" href="/assets/CentOS.html.c0ab5e85.js"><link rel="prefetch" href="/assets/CommonUsedCMD.html.f17dd8f0.js"><link rel="prefetch" href="/assets/Curl.html.6d7c90c3.js"><link rel="prefetch" href="/assets/InstallMysqlWithDocker.html.644e52dc.js"><link rel="prefetch" href="/assets/Manjaro.html.36422b7f.js"><link rel="prefetch" href="/assets/MultiNetworkCard.html.eb986e19.js"><link rel="prefetch" href="/assets/index.html.b59cd6ad.js"><link rel="prefetch" href="/assets/Samba.html.ba667abd.js"><link rel="prefetch" href="/assets/TcpDump.html.f8c38b95.js"><link rel="prefetch" href="/assets/Wifi.html.59b78893.js"><link rel="prefetch" href="/assets/wsl.html.eda9e28f.js"><link rel="prefetch" href="/assets/index.html.c88c3ebc.js"><link rel="prefetch" href="/assets/01.html.01842f56.js"><link rel="prefetch" href="/assets/02.html.f0c00992.js"><link rel="prefetch" href="/assets/03.html.416245be.js"><link rel="prefetch" href="/assets/04.html.d05b788a.js"><link rel="prefetch" href="/assets/05.html.39f9c092.js"><link rel="prefetch" href="/assets/06.html.27c83a6a.js"><link rel="prefetch" href="/assets/07.html.7e42d54b.js"><link rel="prefetch" href="/assets/08.html.4060e2b3.js"><link rel="prefetch" href="/assets/09.html.5bacbbcf.js"><link rel="prefetch" href="/assets/10.html.d591455c.js"><link rel="prefetch" href="/assets/11.html.083966f9.js"><link rel="prefetch" href="/assets/12.html.2e2e70c5.js"><link rel="prefetch" href="/assets/13.html.6aa57e74.js"><link rel="prefetch" href="/assets/index.html.372c5891.js"><link rel="prefetch" href="/assets/index.html.9fb3b720.js"><link rel="prefetch" href="/assets/Idea.html.5e85753b.js"><link rel="prefetch" href="/assets/index.html.da07e0a1.js"><link rel="prefetch" href="/assets/SoftWare.html.d7c97aca.js"><link rel="prefetch" href="/assets/VsCode.html.6e89fe77.js"><link rel="prefetch" href="/assets/CloudServiceTraining.html.3ad3fa1b.js"><link rel="prefetch" href="/assets/index.html.d64ae74e.js"><link rel="prefetch" href="/assets/SSO.html.a5027555.js"><link rel="prefetch" href="/assets/draw.html.5649127d.js"><link rel="prefetch" href="/assets/BuildWebProject.html.dcc85e49.js"><link rel="prefetch" href="/assets/Cookie.html.edb193cf.js"><link rel="prefetch" href="/assets/Http.html.54a345af.js"><link rel="prefetch" href="/assets/Jwt.html.18853d7d.js"><link rel="prefetch" href="/assets/index.html.481d6a69.js"><link rel="prefetch" href="/assets/Restful.html.bea41045.js"><link rel="prefetch" href="/assets/MybatisPlusDataSource.html.2bbd2394.js"><link rel="prefetch" href="/assets/index.html.1c5020d1.js"><link rel="prefetch" href="/assets/mybatis.html.fd16d03a.js"><link rel="prefetch" href="/assets/Authorization.html.b8cdd977.js"><link rel="prefetch" href="/assets/CustomAuthenticationProvider.html.21b7bdcf.js"><link rel="prefetch" href="/assets/CustomLoginPage.html.d918c185.js"><link rel="prefetch" href="/assets/CustomTokenAuthentication.html.e10eef47.js"><link rel="prefetch" href="/assets/index.html.96a57029.js"><link rel="prefetch" href="/assets/SecurityFilterChain.html.4e3c1869.js"><link rel="prefetch" href="/assets/note.html.d8ce7532.js"><link rel="prefetch" href="/assets/Annotation.html.e04e7e57.js"><link rel="prefetch" href="/assets/BeanPostProcessor.html.07a363d6.js"><link rel="prefetch" href="/assets/CircularDependency.html.50d4d030.js"><link rel="prefetch" href="/assets/DesignPatternInSpring.html.e46c5465.js"><link rel="prefetch" href="/assets/OncePerRequestFilter.html.7e035707.js"><link rel="prefetch" href="/assets/index.html.bbcfdb6f.js"><link rel="prefetch" href="/assets/SpringAOP.html.91175cc0.js"><link rel="prefetch" href="/assets/SpringCache.html.e62faccf.js"><link rel="prefetch" href="/assets/SpringExtensionPoint.html.9f417c07.js"><link rel="prefetch" href="/assets/SpringIOC.html.850ddc48.js"><link rel="prefetch" href="/assets/AOPLog.html.86754266.js"><link rel="prefetch" href="/assets/index.html.f5986cbb.js"><link rel="prefetch" href="/assets/SpringBootAutoConfiguration.html.fa075b11.js"><link rel="prefetch" href="/assets/index.html.efa3a9bf.js"><link rel="prefetch" href="/assets/wrapper.html.8df206a7.js"><link rel="prefetch" href="/assets/index.html.c912f208.js"><link rel="prefetch" href="/assets/TooManyOpenFiles.html.8d86208f.js"><link rel="prefetch" href="/assets/index.html.0e486a1b.js"><link rel="prefetch" href="/assets/import.html.de3f5e9c.js"><link rel="prefetch" href="/assets/multiModule.html.d09c3f74.js"><link rel="prefetch" href="/assets/problem.html.74e70273.js"><link rel="prefetch" href="/assets/404.html.c88483be.js"><link rel="prefetch" href="/assets/index.html.8a6c2362.js"><link rel="prefetch" href="/assets/index.html.4c1bdf85.js"><link rel="prefetch" href="/assets/index.html.5c3d0253.js"><link rel="prefetch" href="/assets/index.html.d21dfd1b.js"><link rel="prefetch" href="/assets/index.html.15709b40.js"><link rel="prefetch" href="/assets/index.html.2becaa15.js"><link rel="prefetch" href="/assets/index.html.f1fdf14f.js"><link rel="prefetch" href="/assets/index.html.2c153759.js"><link rel="prefetch" href="/assets/index.html.f8196472.js"><link rel="prefetch" href="/assets/index.html.3629a06f.js"><link rel="prefetch" href="/assets/index.html.a1cfc359.js"><link rel="prefetch" href="/assets/index.html.0503180c.js"><link rel="prefetch" href="/assets/index.html.c9457209.js"><link rel="prefetch" href="/assets/index.html.fc0f3dbc.js"><link rel="prefetch" href="/assets/index.html.92645bdc.js"><link rel="prefetch" href="/assets/index.html.680f288a.js"><link rel="prefetch" href="/assets/index.html.ceb7c89e.js"><link rel="prefetch" href="/assets/index.html.8d143620.js"><link rel="prefetch" href="/assets/index.html.da86cff7.js"><link rel="prefetch" href="/assets/index.html.31634ff4.js"><link rel="prefetch" href="/assets/index.html.60719a12.js"><link rel="prefetch" href="/assets/index.html.6deebcac.js"><link rel="prefetch" href="/assets/index.html.88b8934f.js"><link rel="prefetch" href="/assets/index.html.b9e7d0e5.js"><link rel="prefetch" href="/assets/index.html.3b7546ce.js"><link rel="prefetch" href="/assets/index.html.85f68f71.js"><link rel="prefetch" href="/assets/index.html.965cb0b0.js"><link rel="prefetch" href="/assets/index.html.0d4f6d4a.js"><link rel="prefetch" href="/assets/index.html.bb747a89.js"><link rel="prefetch" href="/assets/index.html.6ac6bffe.js"><link rel="prefetch" href="/assets/index.html.5da0e20c.js"><link rel="prefetch" href="/assets/index.html.1610a53a.js"><link rel="prefetch" href="/assets/index.html.3d9cae95.js"><link rel="prefetch" href="/assets/index.html.57f9e121.js"><link rel="prefetch" href="/assets/index.html.f838d907.js"><link rel="prefetch" href="/assets/index.html.cc10705b.js"><link rel="prefetch" href="/assets/index.html.07ac425a.js"><link rel="prefetch" href="/assets/index.html.ae72d219.js"><link rel="prefetch" href="/assets/index.html.2dc0f43a.js"><link rel="prefetch" href="/assets/index.html.90271576.js"><link rel="prefetch" href="/assets/index.html.7135e989.js"><link rel="prefetch" href="/assets/index.html.143eea86.js"><link rel="prefetch" href="/assets/index.html.86d792a6.js"><link rel="prefetch" href="/assets/index.html.da6a6a0c.js"><link rel="prefetch" href="/assets/index.html.b8b1248a.js"><link rel="prefetch" href="/assets/index.html.04a3fe9b.js"><link rel="prefetch" href="/assets/index.html.0bc91862.js"><link rel="prefetch" href="/assets/index.html.a5663e19.js"><link rel="prefetch" href="/assets/index.html.9b7c7ec3.js"><link rel="prefetch" href="/assets/index.html.483249f7.js"><link rel="prefetch" href="/assets/index.html.ca409ebb.js"><link rel="prefetch" href="/assets/index.html.9f688e30.js"><link rel="prefetch" href="/assets/index.html.bdf584d7.js"><link rel="prefetch" href="/assets/index.html.9ba3fd76.js"><link rel="prefetch" href="/assets/index.html.1bbe135d.js"><link rel="prefetch" href="/assets/index.html.1605296f.js"><link rel="prefetch" href="/assets/index.html.25bb0fc2.js"><link rel="prefetch" href="/assets/404.eb667016.js"><link rel="prefetch" href="/assets/Layout.f8d82a06.js"><link rel="prefetch" href="/assets/Slide.feb11cac.js"><link rel="prefetch" href="/assets/Blog.60a1be48.js"><link rel="prefetch" href="/assets/giscus.8fe73ced.js"><link rel="prefetch" href="/assets/auto.esm.2565cd3a.js"><link rel="prefetch" href="/assets/index.d8a59108.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/photoswipe.esm.218074cd.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="ChenSino"><!----><span class="site-name hide-in-pad">ChenSino</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home"></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ChenSino"><span class="icon iconfont icon-home"></span>ChenSino<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-java"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/java/base/Serialization.html" class="nav-link" aria-label="Java基础"><span class="icon iconfont icon-java"></span>Java基础<!----></a></li><li class="dropdown-item"><a href="/java/advance/ProxyInJava.html" class="nav-link" aria-label="Java进阶"><span class="icon iconfont icon-java"></span>Java进阶<!----></a></li><li class="dropdown-item"><a href="/java/jvm/NewObject.html" class="nav-link" aria-label="Java虚拟机"><span class="icon iconfont icon-java"></span>Java虚拟机<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/framework/spring/" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-subitem"><a href="/java/framework/security/" class="nav-link" aria-label="Security"><!---->Security<!----></a></li><li class="dropdown-subitem"><a href="/java/framework/springboot/" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-subitem"><a href="/java/framework/mybatis/" class="nav-link" aria-label="Mybatis"><!---->Mybatis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>其他</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/other/maven/" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li><li class="dropdown-subitem"><a href="/java/other/gradle/" class="nav-link" aria-label="Gradle"><span class="icon iconfont icon-java"></span>Gradle<!----></a></li><li class="dropdown-subitem"><a href="/java/other/locateproblem/" class="nav-link" aria-label="Java问题定位"><span class="icon iconfont icon-java"></span>Java问题定位<!----></a></li><li class="dropdown-subitem"><a href="/java/other/JdkVersion.html" class="nav-link" aria-label="Java版本"><span class="icon iconfont icon-java"></span>Java版本<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title"><span class="icon iconfont icon-javascript"></span>前端</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/frontweb/vue/" class="nav-link" aria-label="Vue"><span class="icon iconfont icon-vue"></span>Vue<!----></a></li><li class="dropdown-item"><a href="/frontweb/vite/" class="nav-link" aria-label="Vite"><span class="icon iconfont icon-vue"></span>Vite<!----></a></li><li class="dropdown-item"><a href="/frontweb/es5/" class="nav-link" aria-label="ES5"><span class="icon iconfont icon-javascript"></span>ES5<!----></a></li><li class="dropdown-item"><a href="/frontweb/es6/" class="nav-link" aria-label="ES6"><span class="icon iconfont icon-javascript"></span>ES6<!----></a></li><li class="dropdown-item"><a href="/frontweb/typeScript/" class="nav-link" aria-label="TypeScript"><span class="icon iconfont icon-javascript"></span>TypeScript<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/other/web/" class="nav-link" aria-label="前后分离项目搭建"><span class="icon iconfont icon-app"></span>前后分离项目搭建<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其他"><span class="title"><span class="icon iconfont icon-others"></span>其他</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/other/web/" class="nav-link" aria-label="Web"><span class="icon iconfont icon-vue"></span>Web<!----></a></li><li class="dropdown-item"><a href="/other/git/GitCommands.html" class="nav-link" aria-label="Git"><span class="icon iconfont icon-git"></span>Git<!----></a></li><li class="dropdown-item"><a href="/other/linux/CommonUsedCMD.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></li><li class="dropdown-item"><a href="/other/docker/Docker.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-ubuntu"></span>Docker<!----></a></li><li class="dropdown-item"><a href="/other/database/CPUOverLoad.html" class="nav-link" aria-label="DataBase"><span class="icon iconfont icon-java"></span>DataBase<!----></a></li><li class="dropdown-item"><a href="/other/markdown/" class="nav-link" aria-label="MarkDown"><span class="icon iconfont icon-markdown"></span>MarkDown<!----></a></li><li class="dropdown-item"><a href="/other/tools/IdeaDebug" class="nav-link" aria-label="工具软件"><span class="icon iconfont icon-software"></span>工具软件<!----></a></li><li class="dropdown-item"><a href="/other/training/CloudServiceTraining.html" class="nav-link" aria-label="小组分享"><span class="icon iconfont icon-share"></span>小组分享<!----></a></li><li class="dropdown-item"><a href="/other/essay/2022-04-12.html" class="nav-link" aria-label="随笔杂记"><span class="icon iconfont icon-activity"></span>随笔杂记<!----></a></li><li class="dropdown-item"><a href="/other/books/ebooks.html" class="nav-link" aria-label="电子书资源"><span class="icon iconfont icon-app"></span>电子书资源<!----></a></li><li class="dropdown-item"><a href="/other/distributeservice/DistributeLock.html" class="nav-link" aria-label="分布式微服务"><span class="icon iconfont icon-class"></span>分布式微服务<!----></a></li><li class="dropdown-item"><a href="/other/oauth2/" class="nav-link active" aria-label="OAuth2.0"><span class="icon iconfont icon-class"></span>OAuth2.0<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/ChenSino/ChenSino.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-git"></span><span class="title">Git</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-linux"></span><span class="title">Linux</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-repo"></span><span class="title">数据库</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-markdown"></span><span class="title">MarkDown</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-software"></span><span class="title">工具软件</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-share"></span><span class="title">小组分享</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-share"></span><span class="title">随笔分享</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-share"></span><span class="title">web</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-share"></span><span class="title">分布式微服务</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-share"></span><span class="title">OAuth2.0</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/other/oauth2/" class="nav-link sidebar-link sidebar-page" aria-label="开篇词 | 为什么要学OAuth 2.0？"><!---->开篇词 | 为什么要学OAuth 2.0？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/01.html" class="nav-link sidebar-link sidebar-page" aria-label="01 | OAuth 2.0是要通过什么方式解决什么问题？"><!---->01 | OAuth 2.0是要通过什么方式解决什么问题？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/02.html" class="nav-link sidebar-link sidebar-page" aria-label="02 | 授权码许可类型中，为什么一定要有授权码？"><!---->02 | 授权码许可类型中，为什么一定要有授权码？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/03.html" class="nav-link sidebar-link sidebar-page" aria-label="03 | 授权服务：授权码和访问令牌的颁发流程是怎样"><!---->03 | 授权服务：授权码和访问令牌的颁发流程是怎样<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/04.html" class="nav-link sidebar-link sidebar-page" aria-label="04 | 在OAuth 2.0中，如何使用JWT结构化令牌？"><!---->04 | 在OAuth 2.0中，如何使用JWT结构化令牌？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/05.html" class="nav-link sidebar-link sidebar-page" aria-label="05 | 如何安全、快速地接入OAuth 2.0？"><!---->05 | 如何安全、快速地接入OAuth 2.0？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/06.html" class="nav-link sidebar-link sidebar-page" aria-label="06 | 除了授权码许可类型，OAuth 2.0还支持什么授权流程？"><!---->06 | 除了授权码许可类型，OAuth 2.0还支持什么授权流程？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/07.html" class="nav-link sidebar-link sidebar-page" aria-label="07 | 如何在移动App中使用OAuth 2.0？"><!---->07 | 如何在移动App中使用OAuth 2.0？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/08.html" class="nav-link sidebar-link sidebar-page" aria-label="08 | 实践OAuth 2.0时，使用不当可能会导致哪些安全漏洞？"><!---->08 | 实践OAuth 2.0时，使用不当可能会导致哪些安全漏洞？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/09.html" class="nav-link sidebar-link sidebar-page" aria-label="09 | 实战：利用OAuth 2.0实现一个OpenID Connect用户身份认证协议"><!---->09 | 实战：利用OAuth 2.0实现一个OpenID Connect用户身份认证协议<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/10.html" class="nav-link sidebar-link sidebar-page" aria-label="10 | 串讲：OAuth 2.0的工作流程与安全问题"><!---->10 | 串讲：OAuth 2.0的工作流程与安全问题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/11.html" class="nav-link sidebar-link sidebar-page" aria-label="11 | 实战案例：使用Spring Security搭建一套基于JWT的OAuth 2.0架构"><!---->11 | 实战案例：使用Spring Security搭建一套基于JWT的OAuth 2.0架构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/12.html" class="nav-link sidebar-link sidebar-page" aria-label="12 | 架构案例：基于OAuth 2.0/JWT的微服务参考架构"><!---->12 | 架构案例：基于OAuth 2.0/JWT的微服务参考架构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/other/oauth2/13.html" class="nav-link sidebar-link sidebar-page" aria-label="13 | 各大开放平台是如何使用OAuth 2.0的？"><!---->13 | 各大开放平台是如何使用OAuth 2.0的？<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/other/oauth2/14.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="14 | 查漏补缺：OAuth 2.0 常见问题答疑"><!---->14 | 查漏补缺：OAuth 2.0 常见问题答疑<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#发明-oauth-的目的到底是什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="发明 OAuth 的目的到底是什么？"><!---->发明 OAuth 的目的到底是什么？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#oauth-2-0-是身份认证协议吗" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="OAuth 2.0 是身份认证协议吗？"><!---->OAuth 2.0 是身份认证协议吗？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#有了刷新令牌-是不是就可以让访问令牌一直有效了" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="有了刷新令牌，是不是就可以让访问令牌一直有效了？"><!---->有了刷新令牌，是不是就可以让访问令牌一直有效了？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#使用了-https-是不是就能确保-jwt-格式令牌的数据安全" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="使用了 HTTPS，是不是就能确保 JWT 格式令牌的数据安全？"><!---->使用了 HTTPS，是不是就能确保 JWT 格式令牌的数据安全？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#id-令牌和访问令牌之间有联系吗" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ID 令牌和访问令牌之间有联系吗？"><!---->ID 令牌和访问令牌之间有联系吗？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#pkce-协议到底解决的是什么问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PKCE 协议到底解决的是什么问题？"><!---->PKCE 协议到底解决的是什么问题？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/other/oauth2/14.html#总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总结"><!---->总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-ubuntu"></span><span class="title">Docker</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->14 | 查漏补缺：OAuth 2.0 常见问题答疑</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2022年11月8日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">ChenSino</span></span><span property="author" content="ChenSino"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年11月8日</span><meta property="datePublished" content="2022-11-08T00:00:00.000Z"></span><!----><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" localizeddate="2022年11月8日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 10 分钟</span><meta property="timeRequired" content="PT10M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#发明-oauth-的目的到底是什么" class="router-link-active router-link-exact-active toc-link level3">发明 OAuth 的目的到底是什么？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#oauth-2-0-是身份认证协议吗" class="router-link-active router-link-exact-active toc-link level3">OAuth 2.0 是身份认证协议吗？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#有了刷新令牌-是不是就可以让访问令牌一直有效了" class="router-link-active router-link-exact-active toc-link level3">有了刷新令牌，是不是就可以让访问令牌一直有效了？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#使用了-https-是不是就能确保-jwt-格式令牌的数据安全" class="router-link-active router-link-exact-active toc-link level3">使用了 HTTPS，是不是就能确保 JWT 格式令牌的数据安全？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#id-令牌和访问令牌之间有联系吗" class="router-link-active router-link-exact-active toc-link level3">ID 令牌和访问令牌之间有联系吗？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#pkce-协议到底解决的是什么问题" class="router-link-active router-link-exact-active toc-link level3">PKCE 协议到底解决的是什么问题？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/other/oauth2/14.html#总结" class="router-link-active router-link-exact-active toc-link level3">总结</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>从 6 月 29 日这门课上线，到现在已经过去一个多月了。我看到了很多同学的留言，有思考，也有提出的问题。那我首先，在这里要感谢你对咱们这门课的支持、鼓励和反馈。在回复你们的留言时，我也把你们提出的问题记了下来。在梳理今天这期答疑的时候，我又从头到尾看了一遍这些问题，也进一步思考了每个问题背后的元认知，最后我归纳出了 6 个问题：</p><ol><li><p>发明 OAuth 的目的到底是什么？</p></li><li><p>OAuth 2.0 是身份认证协议吗？</p></li><li><p>有了刷新令牌，是不是就可以让访问令牌一直有效了？</p></li><li><p>使用了 HTTPS，是不是就能确保 JWT 格式令牌的数据安全？</p></li><li><p>ID 令牌和访问令牌之间有联系吗？</p></li><li><p>PKCE 协议到底解决的是什么问题？</p></li></ol><p>接下来，我们就一一看看这些问题吧。</p><h3 id="发明-oauth-的目的到底是什么" tabindex="-1"><a class="header-anchor" href="#发明-oauth-的目的到底是什么" aria-hidden="true">#</a> 发明 OAuth 的目的到底是什么？</h3><p>OAuth 协议的设计初衷，就是让最终用户也就是资源拥有者（小明），将他们在受保护资源服务器（京东商家开放平台）上的部分权限（查询当天订单）委托给第三方应用（小兔打单软件），使得第三方应用（小兔）能够代表最终用户（小明）执行操作（查询当天订单）。这便是 OAuth 协议设计的目的。在 OAuth 协议中，通过为每个第三方软件和每个用户的组合分别生成对受保护资源具有受限的访问权限的凭据，也就是访问令牌，来代替之前的用户名和密码。而生成访问令牌之前的登录操作，又是在用户跟平台之间进行的，第三方软件根本无从得知用户的任何信息。这样第三方软件的逻辑处理就大大简化了，它今后的动作就变成了请求访问令牌、使用访问令牌、访问受保护资源，同时在第三方软件调用大量 API 的时候，不再传输用户名和密码，从而减少了网络安全的攻击面。从安全的角度来讲，为每个第三方软件和每个用户的组合来生成一个访问令牌的方式，可以减少对平台更多用户造成的危害。因为这样一来，单个第三方软件被攻破而带来的危害，仅仅会让这一个第三方软件的用户受到影响。那么有的同学就要会问了，这样攻击的对象就会转移到授权服务身上。这个想法没错，但保护一个授权服务肯定要比保护成千上万个、由不同研发人员开发的第三方软件容易得多。</p><h3 id="oauth-2-0-是身份认证协议吗" tabindex="-1"><a class="header-anchor" href="#oauth-2-0-是身份认证协议吗" aria-hidden="true">#</a> OAuth 2.0 是身份认证协议吗？</h3><p>在这门课中，我其实一直在强调，OAuth 2.0 是一种授权协议，“它一心只专注于干好授权这件事儿”，OAuth 2.0 不是身份认证协议。但实际上，我在刚开始学习 OAuth 2.0 的时候，也曾错误地认为它是身份认证协议。因为我当时觉得，有用户参与其中，比如小明在使用小兔打单软件之前，要向授权服务进行登录操作从而进行身份认证 ，那 OAuth 2.0 就应该是一个身份认证协议啊。但是，小明必须登录之后才能进行授权，是一个额外的需求，登录跟授权体系是独立的。虽然登录操作看似“内嵌”在了 OAuth 2.0 的流程中，但生产环境中登录和授权还是两套独立存在的系统。所以说，像这种“内嵌”的身份认证行为，并不是说 OAuth 2.0 自身承担起了身份认证协议的责任。同时，身份认证会告诉第三方软件当前的用户是谁，但实际上 OAuth 2.0 自始至终都没有向第三方软件透露过关于用户的任何信息。这一点，我们在讲发明 OAuth 协议的目的时也提到过。我们可以再想想小兔打单软件的例子，看是不是这样：小兔打单软件永远也不会知道小明的任何信息，它仅仅是请求访问令牌，使用访问令牌并最终调用查询订单的 API。</p><h3 id="有了刷新令牌-是不是就可以让访问令牌一直有效了" tabindex="-1"><a class="header-anchor" href="#有了刷新令牌-是不是就可以让访问令牌一直有效了" aria-hidden="true">#</a> 有了刷新令牌，是不是就可以让访问令牌一直有效了？</h3><p>要回答这个问题，我们先复习下访问令牌和刷新令牌相关的几个知识点吧。</p><p>第一，OAuth 2.0 的核心是授权，授权的核心是令牌，也就是我们说的访问令牌。</p><p>第二，在第 3 讲中我们提到，为了提高用户的体验，OAuth 2.0 提供了刷新令牌的机制，使得访问令牌过期后，第三方软件在无需用户再次授权的情况下，可以重新请求一个访问令牌。</p><p>第三，在使用上，刷新令牌只能用在授权服务上，而访问令牌只能用在受保护资源服务上。</p><p>有了这些知识做基础，我们可以继续分析“有了刷新令牌，是不是就可以让访问令牌一直有效”这个问题了。</p><p>当访问令牌被 “递给” 受保护资源服务的时候，受保护资源服务需要对访问令牌进行验证，还要对访问令牌关联的权限和第三方软件的请求进行权限匹配校验。当访问令牌过期的时候，我们使用刷新令牌请求到的访问令牌，是授权服务重新生成的，而不是延长了原访问令牌的有效期。</p><p>当前的这个刷新令牌被使用之后，授权服务可以自行决定是颁发一个新的刷新令牌，还是仍然给第三方软件返回上一个刷新令牌。安全起见，我们的建议是返回一个新的刷新令牌。这时，你可能就有一个疑问了：第三方软件已经换了一个访问令牌了，刷新令牌又一直存在，那是不是就可以一直使用刷新令牌来获取访问令牌了呢？</p><p>要解决这个疑问，我们要知道的是，刷新令牌也有有效期。尽管生成了新的刷新令牌，但它的有效期不会改变，有效期的时间戳仍然是上一个刷新令牌的。刷新令牌的有效期到了，就不能再继续用它来申请新的访问令牌了。</p><h3 id="使用了-https-是不是就能确保-jwt-格式令牌的数据安全" tabindex="-1"><a class="header-anchor" href="#使用了-https-是不是就能确保-jwt-格式令牌的数据安全" aria-hidden="true">#</a> 使用了 HTTPS，是不是就能确保 JWT 格式令牌的数据安全？</h3><p>OAuth 2.0 的使用从来都不应该脱离 HTTPS。因为访问令牌、应用密钥敏感信息要在网络上传输，都离不开 HTTPS 的保护。但是，HTTPS 也只是保证了访问令牌等重要信息在网络传输上的安全。</p><p>在 OAuth 2.0 的规范中，访问令牌对第三方软件是不透明的，从来都不应该被任何第三方软件解析到。由于 JWT 格式的令牌自包含了用户相关的信息，比如用户标识，因此仅仅对它进行签名还不够。要避免第三方软件有机会获取访问令牌所包含的信息，那我们在与第三方软件交互的环境下使用 JWT 格式的令牌时，还要对它进行加密来保障令牌的安全，而不是仅仅依靠 HTTPS。</p><h3 id="id-令牌和访问令牌之间有联系吗" tabindex="-1"><a class="header-anchor" href="#id-令牌和访问令牌之间有联系吗" aria-hidden="true">#</a> ID 令牌和访问令牌之间有联系吗？</h3><p>在<a href="/other/oauth2/09.html" class="">第 9 讲</a>中，我们在用 OAuth 2.0 实现一个 OpenID Connect 身份认证协议的时候，讲到了 ID 令牌。在这一讲的后面，有同学还是不太清楚 ID 令牌和访问令牌是啥关系，当时我就在留言区做了回复。现在，我重新整理了思路再和你解释一下，因为认识到 ID 令牌和访问令牌的联系与区别，对我们利用 OAuth 2.0 搭建一个身份认证协议来说太重要了。</p><p>我们先来总结下 ID 令牌和访问令牌的作用：</p><ul><li>ID 令牌，也就是 ID_TOKEN，代表的是用户身份令牌，可以说是一个单独的身份认证结果，永远不会像访问令牌那样作为一个参数，去传递给其它外部服务；</li><li>访问令牌，也就是 ACCESS_TOKEN，就是一个令牌，是要被第三方软件用来作为凭证，从而代表用户去请求受保护资源服务的。</li></ul><p>你看，这两种令牌是截然不同的。接下来，我们就分析下，它们的区别都体现在哪些方面吧。</p><p>第一，ID 令牌是对访问令牌的补充，而不是要替换访问令牌。之所以采用这样双令牌的方式，就是想让早先存在的访问令牌，可以在 OAuth 2.0 中继续保持对第三方软件的不透明性，而让后来新增的 ID 令牌要能够被解析，目的就是方便应用到身份认证协议中。第</p><p>二，ID 令牌和访问令牌有不同的生命周期，ID 令牌的生命周期相对来说更短些。因为 ID 令牌的作用就是代表一个单独的身份认证结果，它的使命就是用来标识用户的。而这个标识并不是用户名，用户登录的时候用的是用户名而不是这个 ID 令牌，所以如果用户注销或者退出了登录，ID 令牌的生命周期就随之结束了。</p><p>访问令牌可以在用户离开后的很长时间内，继续被第三方软件用来请求受保护资源服务。比如，小明使用了小兔打单软件的批量导出订单功能，如果耗时相对比较长，小明不必一直在场。</p><h3 id="pkce-协议到底解决的是什么问题" tabindex="-1"><a class="header-anchor" href="#pkce-协议到底解决的是什么问题" aria-hidden="true">#</a> PKCE 协议到底解决的是什么问题？</h3><p>我们在<a href="/other/oauth2/07.html" class="">第 7 讲</a>中学习 PKCE 协议时，我看到了大家对这个协议的很多留言，有的是自己的思考，有的是问题的进一步讨论。我们要理解 PKCE 协议到底解决了什么问题，就要先看一</p><p>2012 年 10 月 OAuth 2.0 的正式授权协议框架，也就是官方的 RFC 6749 被正式发布，2015 年 9 月增补了 PKCE 协议，也就是官方的 RFC 7636。从时间上来看，从正式发布 OAuth 2.0 授权协议到增补发布了 PKCE 协议，整整间隔了三年，而这三年恰恰是移动应用蓬勃发展的时期。</p><p>同时，在原生的移动客户端应用保存秘钥又存在特殊的安全问题，使用 OAuth 2.0 授权码许可类型的客户端又容易受到授权码窃听的攻击。</p><p>所以，PKCE 被增补发布的背景是，移动应用大力发展，同时原生客户端使用 OAuth 2.0 面临着安全风险。这样我们就能理解了，发布 PKCE 协议的目的，主要就是缓解针对公开客户端的攻击，提高授权码使用的安全性。</p><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h3><ol><li>OAuth 协议被发明的目的，就是用令牌代替用户名和密码。</li><li>OAuth 2.0 不能被直接用来“从事”身份认证协议的“工作”。虽然 OAuth2.0 的使用要求是在 HTTPS 的环境下，但这并不能解决 JWT 令牌对第三方软件“不透明”的问题，还需要进行加密。</li><li>有了刷新令牌也不能让访问令牌一直有效下去，因为刷新令牌也有有效期。</li><li>ID 令牌是对访问令牌的补充，而不是要替代访问令牌。</li><li>PKCE 是 OAuth 2.0 的一个增补协议，主要用来缓解授权码被窃听的安全风险。</li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/ChenSino/ChenSino.github.io/edit/dev/docs/other/oauth2/14.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/11/8 08:57:50</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: chenxk@sonoscape.net">ChenSino</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/other/oauth2/13.html" class="nav-link prev" aria-label="13 | 各大开放平台是如何使用OAuth 2.0的？"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->13 | 各大开放平台是如何使用OAuth 2.0的？</div></a><!----></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">除了自渡，其他人爱莫能助</div><div class="copyright">Copyright © 2022 ChenSino</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.2b932083.js" defer></script>
  </body>
</html>
